import{c as N,h as Q,a as ht,b as Dt,d as $t,e as Mt}from"./render.7f227760.js";import{c as g,h as p,r as E,o as Y,a as re,i as De,w as It,t as gt,b as kt,s as Ut,d as ve,g as H,e as pt,n as J,f as ae,l as Be,j as O,k as zt,m as Nt,p as $e,q as Me,P as Ot,u as ne,v as Vt,x as le,y as Re,z as Je,A as Pe,T as bt,K as Xt,B as Qt,C as ue,D as Wt,E as be,_ as Ie,F as Z,G as he,H as z,I as Tt,J as Ce,L as Ze,M as et,N as I,O as ce,Q as Ee,R as tt}from"./index.7310e43b.js";import{R as Ht,Q as ge,g as Gt,a as jt,c as nt,b as Yt,u as Kt,d as Jt,e as Zt}from"./QBtn.8dd39d0e.js";import{Q as wt}from"./QPage.09853b1e.js";var en=N({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const r=g(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>p("div",{class:r.value},Q(t.default))}}),tn=N({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const r=g(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>p("div",{class:r.value},Q(t.default))}});let nn=0;const on=["click","keydown"],rn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${nn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function an(e,t,r,n){const o=De(gt,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:a}=H(),i=E(null),l=E(null),u=E(null),c=g(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),v=g(()=>o.currentModel.value===e.name),S=g(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(v.value===!0?" q-tab--active"+(o.tabProps.value.activeClass?" "+o.tabProps.value.activeClass:"")+(o.tabProps.value.activeColor?` text-${o.tabProps.value.activeColor}`:"")+(o.tabProps.value.activeBgColor?` bg-${o.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&o.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||o.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(n!==void 0&&n.linkClass.value!==""?` ${n.linkClass.value}`:"")),T=g(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(o.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),d=g(()=>e.disable===!0||o.hasFocus.value===!0?-1:e.tabindex||0);function y(b,h){if(h!==!0&&i.value!==null&&i.value.focus(),e.disable!==!0){let R;if(n!==void 0)if(n.hasRouterLink.value===!0)R=()=>{b.__qNavigate=!0,o.avoidRouteWatcher=!0;const A=n.navigateToRouterLink(b);A===!1?o.avoidRouteWatcher=!1:A.then(f=>{o.avoidRouteWatcher=!1,f===void 0&&o.updateModel({name:e.name,fromRoute:!0})})};else{r("click",b);return}else R=()=>{o.updateModel({name:e.name,fromRoute:!1})};r("click",b,R),b.defaultPrevented!==!0&&R()}}function k(b){kt(b,[13,32])?y(b,!0):Ut(b)!==!0&&b.keyCode>=35&&b.keyCode<=40&&b.altKey!==!0&&b.metaKey!==!0&&o.onKbdNavigate(b.keyCode,a.$el)===!0&&ve(b),r("keydown",b)}function M(){const b=o.tabProps.value.narrowIndicator,h=[],R=p("div",{ref:u,class:["q-tab__indicator",o.tabProps.value.indicatorClass]});e.icon!==void 0&&h.push(p(ge,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&h.push(p("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&h.push(e.alertIcon!==void 0?p(ge,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):p("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),b===!0&&h.push(R);const A=[p("div",{class:"q-focus-helper",tabindex:-1,ref:i}),p("div",{class:T.value},ht(t.default,h))];return b===!1&&A.push(R),A}const q={name:g(()=>e.name),rootRef:l,tabIndicatorRef:u,routerProps:n};Y(()=>{o.unregisterTab(q),o.recalculateScroll()}),re(()=>{o.registerTab(q),o.recalculateScroll()});function m(b,h){const R={ref:l,class:S.value,tabindex:d.value,role:"tab","aria-selected":v.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:y,onKeydown:k,...h};return It(p(b,R,M()),[[Ht,c.value]])}return{renderTab:m,$tabs:o}}var ot=N({name:"QTab",props:rn,emits:on,setup(e,{slots:t,emit:r}){const{renderTab:n}=an(e,t,r);return()=>n("div")}});function sn(){const e=E(!pt.value);return e.value===!1&&re(()=>{e.value=!0}),e}const xt=typeof ResizeObserver!="undefined",rt=xt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var pe=N({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let r=null,n,o={width:-1,height:-1};function a(u){u===!0||e.debounce===0||e.debounce==="0"?i():r===null&&(r=setTimeout(i,e.debounce))}function i(){if(clearTimeout(r),r=null,n){const{offsetWidth:u,offsetHeight:c}=n;(u!==o.width||c!==o.height)&&(o={width:u,height:c},t("resize",o))}}const{proxy:l}=H();if(xt===!0){let u;return re(()=>{J(()=>{n=l.$el.parentNode,n&&(u=new ResizeObserver(a),u.observe(n),i())})}),Y(()=>{clearTimeout(r),u!==void 0&&(u.disconnect!==void 0?u.disconnect():n&&u.unobserve(n))}),ae}else{let v=function(){clearTimeout(r),c!==void 0&&(c.removeEventListener!==void 0&&c.removeEventListener("resize",a,Be.passive),c=void 0)},S=function(){v(),n&&n.contentDocument&&(c=n.contentDocument.defaultView,c.addEventListener("resize",a,Be.passive),i())};const u=sn();let c;return re(()=>{J(()=>{n=l.$el,n&&S()})}),Y(v),l.trigger=a,()=>{if(u.value===!0)return p("object",{style:rt.style,tabindex:-1,type:"text/html",data:rt.url,"aria-hidden":"true",onLoad:S})}}}});function ln(){let e;return Y(()=>{e=void 0}),{registerTick(t){e=t,J(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}function at(){let e;return Y(()=>{clearTimeout(e)}),{registerTimeout(t,r){clearTimeout(e),e=setTimeout(t,r)},removeTimeout(){clearTimeout(e)}}}let yt=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,yt=e.scrollLeft>=0,e.remove()}function un(e,t,r){const n=r===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?n[0]:n[1]}${e?` text-${e}`:""}`}const cn=["left","center","right","justify"],it=()=>{};var dn=N({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>cn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:r}){const n=H(),{proxy:{$q:o}}=n,{registerTick:a}=ln(),{registerTimeout:i,removeTimeout:l}=at(),{registerTimeout:u}=at(),c=E(null),v=E(null),S=E(e.modelValue),T=E(!1),d=E(!0),y=E(!1),k=E(!1),M=g(()=>o.platform.is.desktop===!0||e.mobileArrows===!0),q=[],m=E(!1);let b=!1,h,R,A,f=M.value===!0?Xe:ae;const U=g(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:un(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),X=g(()=>`q-tabs__content--align-${T.value===!0?"left":k.value===!0?"justify":e.align}`),Te=g(()=>`q-tabs row no-wrap items-center q-tabs--${T.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${M.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),we=g(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+X.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(o.platform.is.mobile===!0?" scroll":"")),ee=g(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),w=g(()=>e.vertical!==!0&&o.lang.rtl===!0),B=g(()=>yt===!1&&w.value===!0);O(w,f),O(()=>e.modelValue,s=>{V({name:s,setCurrent:!0,skipEmit:!0})}),O(()=>e.outsideArrows,()=>{J(G())}),O(M,s=>{f=s===!0?Xe:ae,J(G())});function V({name:s,setCurrent:x,skipEmit:P,fromRoute:L}){S.value!==s&&(P!==!0&&r("update:modelValue",s),(x===!0||e["onUpdate:modelValue"]===void 0)&&(Pt(S.value,s),S.value=s)),L!==void 0&&(b=L)}function G(){a(()=>{n.isDeactivated!==!0&&n.isUnmounted!==!0&&Ve({width:c.value.offsetWidth,height:c.value.offsetHeight})})}function Ve(s){if(ee.value===void 0||v.value===null)return;const x=s[ee.value.container],P=Math.min(v.value[ee.value.scroll],Array.prototype.reduce.call(v.value.children,(C,D)=>C+(D[ee.value.content]||0),0)),L=x>0&&P>x;T.value!==L&&(T.value=L),L===!0&&J(f);const $=x<parseInt(e.breakpoint,10);k.value!==$&&(k.value=$)}function Pt(s,x){const P=s!=null&&s!==""?q.find($=>$.name.value===s):null,L=x!=null&&x!==""?q.find($=>$.name.value===x):null;if(P&&L){const $=P.tabIndicatorRef.value,C=L.tabIndicatorRef.value;clearTimeout(h),$.style.transition="none",$.style.transform="none",C.style.transition="none",C.style.transform="none";const D=$.getBoundingClientRect(),F=C.getBoundingClientRect();C.style.transform=e.vertical===!0?`translate3d(0,${D.top-F.top}px,0) scale3d(1,${F.height?D.height/F.height:1},1)`:`translate3d(${D.left-F.left}px,0,0) scale3d(${F.width?D.width/F.width:1},1,1)`,J(()=>{h=setTimeout(()=>{C.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",C.style.transform="none"},70)})}L&&T.value===!0&&ie(L.rootRef.value)}function ie(s){const{left:x,width:P,top:L,height:$}=v.value.getBoundingClientRect(),C=s.getBoundingClientRect();let D=e.vertical===!0?C.top-L:C.left-x;if(D<0){v.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(D),f();return}D+=e.vertical===!0?C.height-$:C.width-P,D>0&&(v.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(D),f())}function Xe(){const s=v.value;if(s!==null){const x=s.getBoundingClientRect(),P=e.vertical===!0?s.scrollTop:Math.abs(s.scrollLeft);w.value===!0?(d.value=Math.ceil(P+x.width)<s.scrollWidth-1,y.value=P>0):(d.value=P>0,y.value=e.vertical===!0?Math.ceil(P+x.height)<s.scrollHeight:Math.ceil(P+x.width)<s.scrollWidth)}}function Qe(s){K(),Ge(s),R=setInterval(()=>{Ge(s)===!0&&K()},5)}function We(){Qe(B.value===!0?Number.MAX_SAFE_INTEGER:0)}function He(){Qe(B.value===!0?0:Number.MAX_SAFE_INTEGER)}function K(){clearInterval(R)}function Ct(s,x){const P=Array.prototype.filter.call(v.value.children,F=>F===x||F.matches&&F.matches(".q-tab.q-focusable")===!0),L=P.length;if(L===0)return;if(s===36)return ie(P[0]),!0;if(s===35)return ie(P[L-1]),!0;const $=s===(e.vertical===!0?38:37),C=s===(e.vertical===!0?40:39),D=$===!0?-1:C===!0?1:void 0;if(D!==void 0){const F=w.value===!0?-1:1,j=P.indexOf(x)+D*F;return j>=0&&j<L&&(ie(P[j]),P[j].focus({preventScroll:!0})),!0}}const Et=g(()=>B.value===!0?{get:s=>Math.abs(s.scrollLeft),set:(s,x)=>{s.scrollLeft=-x}}:e.vertical===!0?{get:s=>s.scrollTop,set:(s,x)=>{s.scrollTop=x}}:{get:s=>s.scrollLeft,set:(s,x)=>{s.scrollLeft=x}});function Ge(s){const x=v.value,{get:P,set:L}=Et.value;let $=!1,C=P(x);const D=s<C?-1:1;return C+=D*5,C<0?($=!0,C=0):(D===-1&&C<=s||D===1&&C>=s)&&($=!0,C=s),L(x,C),f(),$}function xe(){return q.filter(s=>s.routerProps!==void 0&&s.routerProps.hasRouterLink.value===!0)}function At(){let s=null,x=b;const P={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:L}=n.proxy.$route,$=S.value;let C=x===!0?it:F=>{$===F.name.value&&(x=!0,C=it)};const D=xe();for(const F of D){const j=F.routerProps.exact.value===!0;if(F.routerProps[j===!0?"linkIsExactActive":"linkIsActive"].value!==!0||P.exact===!0&&j!==!0){C(F);continue}const ye=F.routerProps.linkRoute.value,_e=ye.hash;if(j===!0){if(L===_e){s=F.name.value;break}else if(L!==""&&_e!==""){C(F);continue}}const Se=ye.matched.length,Ke=ye.href.length-_e.length;if(Se===P.matchedLen?Ke>P.hrefLen:Se>P.matchedLen){s=F.name.value,Object.assign(P,{matchedLen:Se,hrefLen:Ke,exact:j});continue}C(F)}(x===!0||s!==null)&&V({name:s,setCurrent:!0,fromRoute:!0})}function Bt(s){if(l(),m.value!==!0&&c.value!==null&&s.target&&typeof s.target.closest=="function"){const x=s.target.closest(".q-tab");x&&c.value.contains(x)===!0&&(m.value=!0)}}function Ft(){i(()=>{m.value=!1},30)}function se(){je.avoidRouteWatcher!==!0&&u(At)}function Lt(s){q.push(s),xe().length>0&&(A===void 0&&(A=O(()=>n.proxy.$route,se)),se())}function qt(s){q.splice(q.indexOf(s),1),A!==void 0&&(xe().length===0&&(A(),A=void 0),se())}const je={currentModel:S,tabProps:U,hasFocus:m,registerTab:Lt,unregisterTab:qt,verifyRouteModel:se,updateModel:V,recalculateScroll:G,onKbdNavigate:Ct,avoidRouteWatcher:!1};$e(gt,je),Y(()=>{clearTimeout(h),A!==void 0&&A()});let Ye=!1;return zt(()=>{Ye=!0}),Nt(()=>{Ye===!0&&G()}),()=>{const s=[p(pe,{onResize:Ve}),p("div",{ref:v,class:we.value,onScroll:f},Q(t.default))];return M.value===!0&&s.push(p(ge,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(d.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||o.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:We,onTouchstartPassive:We,onMouseup:K,onMouseleave:K,onTouchend:K}),p(ge,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(y.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||o.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:He,onTouchstartPassive:He,onMouseup:K,onMouseleave:K,onTouchend:K})),p("div",{ref:c,class:Te.value,role:"tablist",onFocusin:Bt,onFocusout:Ft},s)}}}),fn=N({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:r}){const{proxy:{$q:n}}=H(),o=De(Me,()=>{console.error("QHeader needs to be child of QLayout")}),a=E(parseInt(e.heightHint,10)),i=E(!0),l=g(()=>e.reveal===!0||o.view.value.indexOf("H")>-1||n.platform.is.ios&&o.isContainer.value===!0),u=g(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return i.value===!0?a.value:0;const m=a.value-o.scroll.value.position;return m>0?m:0}),c=g(()=>e.modelValue!==!0||l.value===!0&&i.value!==!0),v=g(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),S=g(()=>"q-header q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),T=g(()=>{const m=o.rows.value.top,b={};return m[0]==="l"&&o.left.space===!0&&(b[n.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),m[2]==="r"&&o.right.space===!0&&(b[n.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),b});function d(m,b){o.update("header",m,b)}function y(m,b){m.value!==b&&(m.value=b)}function k({height:m}){y(a,m),d("size",m)}function M(m){v.value===!0&&y(i,!0),r("focusin",m)}O(()=>e.modelValue,m=>{d("space",m),y(i,!0),o.animate()}),O(u,m=>{d("offset",m)}),O(()=>e.reveal,m=>{m===!1&&y(i,e.modelValue)}),O(i,m=>{o.animate(),r("reveal",m)}),O(o.scroll,m=>{e.reveal===!0&&y(i,m.direction==="up"||m.position<=e.revealOffset||m.position-m.inflectionPoint<100)});const q={};return o.instances.header=q,e.modelValue===!0&&d("size",a.value),d("space",e.modelValue),d("offset",u.value),Y(()=>{o.instances.header===q&&(o.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const m=Dt(t.default,[]);return e.elevated===!0&&m.push(p("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),m.push(p(pe,{debounce:0,onResize:k})),p("header",{class:S.value,style:T.value,onFocusin:M},m)}}});const ke={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},vn=Object.keys(ke);ke.all=!0;function st(e){const t={};for(const r of vn)e[r]===!0&&(t[r]=!0);return Object.keys(t).length===0?ke:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function lt(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function mn(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Ot.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function hn(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,n)=>{const o=parseFloat(r);o&&(t[n]=o)}),t}var gn=$t({name:"touch-swipe",beforeMount(e,{value:t,arg:r,modifiers:n}){if(n.mouse!==!0&&ne.has.touch!==!0)return;const o=n.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:hn(r),direction:st(n),noop:ae,mouseStart(i){lt(i,a)&&Vt(i)&&(le(a,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(i,!0))},touchStart(i){if(lt(i,a)){const l=i.target;le(a,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),a.start(i)}},start(i,l){ne.is.firefox===!0&&Re(e,!0);const u=Je(i);a.event={x:u.left,y:u.top,time:Date.now(),mouse:l===!0,dir:!1}},move(i){if(a.event===void 0)return;if(a.event.dir!==!1){ve(i);return}const l=Date.now()-a.event.time;if(l===0)return;const u=Je(i),c=u.left-a.event.x,v=Math.abs(c),S=u.top-a.event.y,T=Math.abs(S);if(a.event.mouse!==!0){if(v<a.sensitivity[1]&&T<a.sensitivity[1]){a.end(i);return}}else if(v<a.sensitivity[2]&&T<a.sensitivity[2])return;const d=v/l,y=T/l;a.direction.vertical===!0&&v<T&&v<100&&y>a.sensitivity[0]&&(a.event.dir=S<0?"up":"down"),a.direction.horizontal===!0&&v>T&&T<100&&d>a.sensitivity[0]&&(a.event.dir=c<0?"left":"right"),a.direction.up===!0&&v<T&&S<0&&v<100&&y>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&v<T&&S>0&&v<100&&y>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&v>T&&c<0&&T<100&&d>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&v>T&&c>0&&T<100&&d>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(ve(i),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),mn(),a.styleCleanup=k=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const M=()=>{document.body.classList.remove("no-pointer-events--children")};k===!0?setTimeout(M,50):M()}),a.handler({evt:i,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:l,distance:{x:v,y:T}})):a.end(i)},end(i){a.event!==void 0&&(Pe(a,"temp"),ne.is.firefox===!0&&Re(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),i!==void 0&&a.event.dir!==!1&&ve(i),a.event=void 0)}};e.__qtouchswipe=a,n.mouse===!0&&le(a,"main",[[e,"mousedown","mouseStart",`passive${o}`]]),ne.has.touch===!0&&le(a,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const r=e.__qtouchswipe;r!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&r.end(),r.handler=t.value),r.direction=st(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Pe(t,"main"),Pe(t,"temp"),ne.is.firefox===!0&&Re(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function pn(){const e=new Map;return{getCache:function(t,r){return e[t]===void 0?e[t]=r:e[t]},getCacheWithFn:function(t,r){return e[t]===void 0?e[t]=r():e[t]}}}const bn={name:{required:!0},disable:Boolean},ut={setup(e,{slots:t}){return()=>p("div",{class:"q-panel scroll",role:"tabpanel"},Q(t.default))}},Tn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},wn=["update:modelValue","before-transition","transition"];function xn(){const{props:e,emit:t,proxy:r}=H(),{getCacheWithFn:n}=pn();let o,a;const i=E(null),l=E(null);function u(w){const B=e.vertical===!0?"up":"left";f((r.$q.lang.rtl===!0?-1:1)*(w.direction===B?1:-1))}const c=g(()=>[[gn,u,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=g(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),S=g(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),T=g(()=>`--q-transition-duration: ${e.transitionDuration}ms`),d=g(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),y=g(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),k=g(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);O(()=>e.modelValue,(w,B)=>{const V=b(w)===!0?h(w):-1;a!==!0&&A(V===-1?0:V<h(B)?-1:1),i.value!==V&&(i.value=V,t("before-transition",w,B),J(()=>{t("transition",w,B)}))});function M(){f(1)}function q(){f(-1)}function m(w){t("update:modelValue",w)}function b(w){return w!=null&&w!==""}function h(w){return o.findIndex(B=>B.props.name===w&&B.props.disable!==""&&B.props.disable!==!0)}function R(){return o.filter(w=>w.props.disable!==""&&w.props.disable!==!0)}function A(w){const B=w!==0&&e.animated===!0&&i.value!==-1?"q-transition--"+(w===-1?v.value:S.value):null;l.value!==B&&(l.value=B)}function f(w,B=i.value){let V=B+w;for(;V>-1&&V<o.length;){const G=o[V];if(G!==void 0&&G.props.disable!==""&&G.props.disable!==!0){A(w),a=!0,t("update:modelValue",G.props.name),setTimeout(()=>{a=!1});return}V+=w}e.infinite===!0&&o.length>0&&B!==-1&&B!==o.length&&f(w,w===-1?o.length:-1)}function U(){const w=h(e.modelValue);return i.value!==w&&(i.value=w),!0}function X(){const w=b(e.modelValue)===!0&&U()&&o[i.value];return e.keepAlive===!0?[p(Xt,y.value,[p(k.value===!0?n(d.value,()=>({...ut,name:d.value})):ut,{key:d.value,style:T.value},()=>w)])]:[p("div",{class:"q-panel scroll",style:T.value,key:d.value,role:"tabpanel"},[w])]}function Te(){if(o.length!==0)return e.animated===!0?[p(bt,{name:l.value},X)]:X()}function we(w){return o=Gt(Q(w.default,[])).filter(B=>B.props!==null&&B.props.slot===void 0&&b(B.props.name)===!0),o.length}function ee(){return o}return Object.assign(r,{next:M,previous:q,goTo:m}),{panelIndex:i,panelDirectives:c,updatePanelsList:we,updatePanelIndex:U,getPanelContent:Te,getEnabledPanels:R,getPanels:ee,isValidPanelName:b,keepAliveProps:y,needsUniqueKeepAliveWrapper:k,goToPanelByOffset:f,goToPanel:m,nextPanel:M,previousPanel:q}}var ct=N({name:"QTabPanel",props:bn,setup(e,{slots:t}){return()=>p("div",{class:"q-tab-panel"},Q(t.default))}});const _t={dark:{type:Boolean,default:null}};function St(e,t){return g(()=>e.dark===null?t.dark.isActive:e.dark)}var yn=N({name:"QTabPanels",props:{...Tn,..._t},emits:wn,setup(e,{slots:t}){const r=H(),n=St(e,r.proxy.$q),{updatePanelsList:o,getPanelContent:a,panelDirectives:i}=xn(),l=g(()=>"q-tab-panels q-panel-parent"+(n.value===!0?" q-tab-panels--dark q-dark":""));return()=>(o(t),Mt("div",{class:l.value},a(),"pan",e.swipeable,()=>i.value))}}),_n=N({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:r}}=H(),n=De(Me,()=>{console.error("QPageContainer needs to be child of QLayout")});$e(Qt,!0);const o=g(()=>{const a={};return n.header.space===!0&&(a.paddingTop=`${n.header.size}px`),n.right.space===!0&&(a[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(a.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(a[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),a});return()=>p("div",{class:"q-page-container",style:o.value},Q(t.default))}});const Sn=[null,document,document.body,document.scrollingElement,document.documentElement];function Rt(e,t){let r=jt(t);if(r===void 0){if(e==null)return window;r=e.closest(".scroll,.scroll-y,.overflow-auto")}return Sn.includes(r)?window:r}function Rn(e){return(e===window?document.body:e).scrollHeight}function Pn(e){return(e===window?document.body:e).scrollWidth}function Ue(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function ze(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function Ne(e,t,r=0){const n=arguments[3]===void 0?performance.now():arguments[3],o=Ue(e);if(r<=0){o!==t&&Fe(e,t);return}requestAnimationFrame(a=>{const i=a-n,l=o+(t-o)/Math.max(i,r)*i;Fe(e,l),l!==t&&Ne(e,t,r-i,a)})}function Oe(e,t,r=0){const n=arguments[3]===void 0?performance.now():arguments[3],o=ze(e);if(r<=0){o!==t&&Le(e,t);return}requestAnimationFrame(a=>{const i=a-n,l=o+(t-o)/Math.max(i,r)*i;Le(e,l),l!==t&&Oe(e,t,r-i,a)})}function Fe(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function Le(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function Cn(e,t,r){if(r){Ne(e,t,r);return}Fe(e,t)}function En(e,t,r){if(r){Oe(e,t,r);return}Le(e,t)}let de;function me(){if(de!==void 0)return de;const e=document.createElement("p"),t=document.createElement("div");nt(e,{width:"100%",height:"200px"}),nt(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const r=e.offsetWidth;t.style.overflow="scroll";let n=e.offsetWidth;return r===n&&(n=t.clientWidth),t.remove(),de=r-n,de}function An(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}var Bn={getScrollTarget:Rt,getScrollHeight:Rn,getScrollWidth:Pn,getVerticalScrollPosition:Ue,getHorizontalScrollPosition:ze,animVerticalScrollTo:Ne,animHorizontalScrollTo:Oe,setVerticalScrollPosition:Cn,setHorizontalScrollPosition:En,getScrollbarWidth:me,hasScrollbar:An};const{passive:dt}=Be,Fn=["both","horizontal","vertical"];var Ln=N({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Fn.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const r={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,o,a;O(()=>e.scrollTarget,()=>{u(),l()});function i(){n!==null&&n();const S=Math.max(0,Ue(o)),T=ze(o),d={top:S-r.position.top,left:T-r.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const y=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";r.position={top:S,left:T},r.directionChanged=r.direction!==y,r.delta=d,r.directionChanged===!0&&(r.direction=y,r.inflectionPoint=r.position),t("scroll",{...r})}function l(){o=Rt(a,e.scrollTarget),o.addEventListener("scroll",c,dt),c(!0)}function u(){o!==void 0&&(o.removeEventListener("scroll",c,dt),o=void 0)}function c(S){if(S===!0||e.debounce===0||e.debounce==="0")i();else if(n===null){const[T,d]=e.debounce?[setTimeout(i,e.debounce),clearTimeout]:[requestAnimationFrame(i),cancelAnimationFrame];n=()=>{d(T),n=null}}}const{proxy:v}=H();return re(()=>{a=v.$el.parentNode,l()}),Y(()=>{n!==null&&n(),u()}),Object.assign(v,{trigger:c,getPosition:()=>r}),ae}}),qn=N({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:r}){const{proxy:{$q:n}}=H(),o=E(null),a=E(n.screen.height),i=E(e.container===!0?0:n.screen.width),l=E({position:0,direction:"down",inflectionPoint:0}),u=E(0),c=E(pt.value===!0?0:me()),v=g(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),S=g(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),T=g(()=>c.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),d=g(()=>c.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function y(h){if(e.container===!0||document.qScrollPrevented!==!0){const R={position:h.position.top,direction:h.direction,directionChanged:h.directionChanged,inflectionPoint:h.inflectionPoint.top,delta:h.delta.top};l.value=R,e.onScroll!==void 0&&r("scroll",R)}}function k(h){const{height:R,width:A}=h;let f=!1;a.value!==R&&(f=!0,a.value=R,e.onScrollHeight!==void 0&&r("scroll-height",R),q()),i.value!==A&&(f=!0,i.value=A),f===!0&&e.onResize!==void 0&&r("resize",h)}function M({height:h}){u.value!==h&&(u.value=h,q())}function q(){if(e.container===!0){const h=a.value>u.value?me():0;c.value!==h&&(c.value=h)}}let m;const b={instances:{},view:g(()=>e.view),isContainer:g(()=>e.container),rootRef:o,height:a,containerHeight:u,scrollbarWidth:c,totalWidth:g(()=>i.value+c.value),rows:g(()=>{const h=e.view.toLowerCase().split(" ");return{top:h[0].split(""),middle:h[1].split(""),bottom:h[2].split("")}}),header:ue({size:0,offset:0,space:!1}),right:ue({size:300,offset:0,space:!1}),footer:ue({size:0,offset:0,space:!1}),left:ue({size:300,offset:0,space:!1}),scroll:l,animate(){m!==void 0?clearTimeout(m):document.body.classList.add("q-body--layout-animate"),m=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),m=void 0},155)},update(h,R,A){b[h][R]=A}};if($e(Me,b),me()>0){let A=function(){h=null,R.classList.remove("hide-scrollbar")},f=function(){if(h===null){if(R.scrollHeight>n.screen.height)return;R.classList.add("hide-scrollbar")}else clearTimeout(h);h=setTimeout(A,300)},U=function(X){h!==null&&X==="remove"&&(clearTimeout(h),A()),window[`${X}EventListener`]("resize",f)},h=null;const R=document.body;O(()=>e.container!==!0?"add":"remove",U),e.container!==!0&&U("add"),Wt(()=>{U("remove")})}return()=>{const h=ht(t.default,[p(Ln,{onScroll:y}),p(pe,{onResize:k})]),R=p("div",{class:v.value,style:S.value,ref:e.container===!0?void 0:o,tabindex:-1},h);return e.container===!0?p("div",{class:"q-layout-container overflow-hidden",ref:o},[p(pe,{onResize:M}),p("div",{class:"absolute-full",style:T.value},[p("div",{class:"scroll",style:d.value},[R])])]):R}}});const Dn=be({name:"OverviewPage",components:{},setup(){return{}}}),$n=Tt(" Overview ");function Mn(e,t,r,n,o,a){return Z(),he(wt,null,{default:z(()=>[$n]),_:1})}var In=Ie(Dn,[["render",Mn]]);const kn={ratio:[String,Number]};function Un(e,t){return g(()=>{const r=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(r)!==!0&&r>0?{paddingBottom:`${100/r}%`}:null})}const zn=16/9;var Nn=N({name:"QImg",props:{...kn,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:zn},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:r}){const n=E(e.initialRatio),o=Un(e,n);let a;const i=[E(null),E(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],l=E(0),u=E(!1),c=E(!1),v=g(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),S=g(()=>({width:e.width,height:e.height})),T=g(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),d=g(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));O(()=>y(),k);function y(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function k(f){if(clearTimeout(a),c.value=!1,f===null){u.value=!1,i[0].value=null,i[1].value=null;return}u.value=!0,i[l.value].value=f}function M({target:f}){a!==null&&(clearTimeout(a),n.value=f.naturalHeight===0?.5:f.naturalWidth/f.naturalHeight,q(f,1))}function q(f,U){a===null||U===1e3||(f.complete===!0?m(f):a=setTimeout(()=>{q(f,U+1)},50))}function m(f){a!==null&&(l.value=l.value===1?0:1,i[l.value].value=null,u.value=!1,c.value=!1,r("load",f.currentSrc||f.src))}function b(f){clearTimeout(a),u.value=!1,c.value=!0,i[0].value=null,i[1].value=null,r("error",f)}function h(f,U){return p("div",{class:"q-img__container absolute-full",key:f},U)}function R(f){const U=i[f].value,X={key:"img_"+f,class:T.value,style:d.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...U};return l.value===f?(X.class+=" q-img__image--waiting",Object.assign(X,{onLoad:M,onError:b})):X.class+=" q-img__image--loaded",h("img"+f,p("img",X))}function A(){return u.value!==!0?p("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Q(t[c.value===!0?"error":"default"])):p("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[p(Yt,{color:e.spinnerColor,size:e.spinnerSize})])}return k(y()),Y(()=>{clearTimeout(a),a=null}),()=>{const f=[];return o.value!==null&&f.push(p("div",{key:"filler",style:o.value})),c.value!==!0&&(i[0].value!==null&&f.push(R(0)),i[1].value!==null&&f.push(R(1))),f.push(p(bt,{name:"q-transition--fade"},A)),p("div",{class:v.value,style:S.value,role:"img","aria-label":e.alt},f)}}}),ft=N({name:"QCardActions",props:{...Kt,vertical:Boolean},setup(e,{slots:t}){const r=Jt(e),n=g(()=>`q-card__actions ${r.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>p("div",{class:n.value},Q(t.default))}}),vt=N({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const r=g(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>p(e.tag,{class:r.value},Q(t.default))}}),On=N({name:"QCard",props:{..._t,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=H(),n=St(e,r),o=g(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>p(e.tag,{class:o.value},Q(t.default))}});const Vn=3,Xn=30,_={agents:null,agentColors:null,canvas:null,preset:null},W={mouseDown:!1,mousePos:[-1,-1],pMousePosition:null};var qe=null,fe=null,mt=null,te=null;function Qn(e){const t=document.getElementById("vis");document.getElementById("fps"),_.canvas=t,_.preset=e;let r=_.preset.createAgents();_.agents=r.agents,_.agentColors=r.colors,_.sensorRadius=Vn;const n=t.getContext("webgl2",{preserveDrawingBuffer:!0,premultipliedAlpha:!1});n||(n=t.getContext("webgl",params)||t.getContext("experimental-webgl",params)),n.viewport(0,0,t.width,t.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);var o=n.getExtension("EXT_color_buffer_float");if(!o){alert("EXT_color_buffer_float failed to load");return}_.canvas.addEventListener("mousedown",function(a){W.mouseDown=!0}),_.canvas.addEventListener("mouseup",function(a){W.mouseDown=!1}),_.canvas.addEventListener("mousemove",function(a){W.mouseDown?W.mousePos=[a.pageX/_.canvas.width,1-a.pageY/_.canvas.height]:W.mousePos=[-5,-5]}),qe=Wn(n),Hn(n,_,qe)}function Wn(e){const t=`#version 300 es
    precision mediump float;

    in vec4 m_position;
    in vec2 m_mousePosition;

    out vec2 v_texCoord;

    void main(void)
    {
        gl_Position = vec4(m_position.xy, 0.0, 1.0);
        v_texCoord = m_position.zw;
    }`,r=`#version 300 es
    precision mediump float;
    precision mediump int;
    precision mediump sampler2D;
    precision mediump usampler2D;

    uniform usampler2D agentTex; // agent positions
    uniform sampler2D renderTex;
    uniform vec2 v_mousePosition;
    in vec2 v_texCoord;

    const float PI = 3.141;
    const float maxSpeed = `+(_.preset.maxSpeed/_.canvas.width).toFixed(4)+`;
    const float turnSpeed = `+_.preset.turnSpeed.toFixed(4)+`;
    const float width = `+_.canvas.width.toFixed(1)+`;
    const float height = `+_.canvas.height.toFixed(1)+`;
    const float sensorRadius = `+(_.sensorRadius/_.canvas.width).toFixed(4)+`;
    const float sensorOffsetDistance = `+(_.preset.sensorOffsetDistance/_.canvas.width).toFixed(4)+`;
    const float leftSensorAngle = `+_.preset.leftSensorAngle.toFixed(2)+`;
    const float rightSensorAngle = `+_.preset.rightSensorAngle.toFixed(2)+`;
    const float squareMouseRadius = 0.005;
    const float randomWeight = 0.05;

    const float aspectRatio = width/height;
    const float aspectRatioInv = height/width;

    out uvec4 result;

    uint hash(uint x);
    uint hash(uint x)
    {
        x ^= 2747636419u;
        x *= 2654435769u;
        x ^= x >> 16;
        x *= 2654435769u;
        x ^= x >> 16;
        x *= 2654435769u;
        return x;
    }

    float sense(float x, float y, float r, float offset);
    float sense(float x, float y, float r, float offset)
    {
        float sensorAngle = r + offset;
        vec2 sensorDirection = vec2(cos(sensorAngle), sin(sensorAngle));
        vec2 sensorCentre = vec2(x, y) + sensorDirection * sensorOffsetDistance;
        float sum = 0.0;
        for (float i = -sensorRadius; i <= sensorRadius; i += 1.0/width)
        {
            for (float j = -sensorRadius; j <= sensorRadius; j += 1.0/height)
            {
                vec4 reading = texture(renderTex, sensorCentre + vec2(i, j));
                sum += length(reading.rgb);
            }
        }
        return sum;
    }

    void main(void)
    {
        uint pixelIndex = uint((gl_FragCoord.y * width) + (gl_FragCoord.x));
        uint pseudoRandomNumber = hash(pixelIndex);
        float pseudoRandomWeight = float(pseudoRandomNumber) / 4294967295.0; // normalise

        uvec4 agent = texture(agentTex, v_texCoord);
        float x = uintBitsToFloat(agent.x);
        float y = uintBitsToFloat(agent.y);
        float r = uintBitsToFloat(agent.z);
        float v = uintBitsToFloat(agent.w);

        // move agent along current path
        x += cos(r) * v * maxSpeed * aspectRatioInv;
        y += sin(r) * v * maxSpeed;

        // check boundaries and reflect angle if hit, or if near mouse
        if ( x < 0.0 || x > 1.0 || y < 0.0 || y > 1.0 )
        {
            /*
            x = min(0.99, max(-0.99, x));
            y = min(0.99, max(-0.99, y));
            float pseudoRandomTurnWeight = float(hash(pseudoRandomNumber)) / 4294967295.0;
            r += pseudoRandomTurnWeight * PI;
            */

            // pass to other side
            if (x < 0.0) x = 0.99; if (x > 1.0) x = 0.01;
            if (y < 0.0) y = 0.99; if (y > 1.0) y = 0.01;
        }


        float forwardReading = sense(x, y, r, 0.0);
        float leftReading = sense(x, y, r, leftSensorAngle);
        float rightReading = sense(x, y, r, rightSensorAngle);

        if (forwardReading > leftReading && forwardReading > rightReading)
        {
            r += 0.0; // no change
            v = min(v + 0.005 * pseudoRandomWeight, 1.0);
        }
        else if (forwardReading < leftReading && forwardReading < rightReading)
        {
            r += (pseudoRandomWeight-0.5) * turnSpeed; // turn randomly
            v = max(v - 0.005 * pseudoRandomWeight, 0.1);
        }
        else if (rightReading > forwardReading && forwardReading > leftReading)
        {
            r -= turnSpeed + turnSpeed * (pseudoRandomWeight-0.5); // turn left
        }
        else if (leftReading > forwardReading && forwardReading > rightReading)
        {
            r += turnSpeed + turnSpeed * (pseudoRandomWeight-0.5); // turn right
        }


        // If within mouse range then set rotation directly away from mouse
        float squareDistance = (x - v_mousePosition.x)*aspectRatio*(x - v_mousePosition.x)*aspectRatio + (y - v_mousePosition.y)*(y - v_mousePosition.y);
        if (squareDistance < squareMouseRadius)
        {
            vec2 awayFromMouse = vec2(x, y) - v_mousePosition;
            r = atan(awayFromMouse.y / awayFromMouse.x);
            if (awayFromMouse.x < 0.0) r += PI;
        }

        uint x_ = floatBitsToUint(x);
        uint y_ = floatBitsToUint(y);
        uint r_ = floatBitsToUint(r);
        uint v_ = floatBitsToUint(v);

        result = uvec4(x_, y_, r_, v_);
    }`,n=`#version 300 es
    precision mediump float;

    in vec2 r_position;
    in vec2 r_agentCoord;

    precision mediump sampler2D;
    precision mediump usampler2D;

    uniform usampler2D agentTex;
    uniform sampler2D agentCol;

    out vec4 col;

    void main(void)
    {
        // get the r & g (x & y positions) value of pixels in agentTex
        uvec4 agent = texture(agentTex, r_agentCoord);
        float v = uintBitsToFloat(agent.w);

        col = texture(agentCol, r_agentCoord);
        //col = vec4(v * col.r, col.g, (1.0-v) * col.b, col.a);

        float x = uintBitsToFloat(agent.x);
        float y = uintBitsToFloat(agent.y);
        gl_Position = vec4(2.0 * x - 1.0, 2.0 * y - 1.0, 0.0, 1.0);

        gl_PointSize = `+_.preset.pointSize.toFixed(2)+`;
    }`,o=`#version 300 es
    precision mediump float;
    precision mediump int;
    precision mediump sampler2D;

    in vec4 col;

    out vec4 color;

    void main(void)
    {
        color = col;
    }`,a=`#version 300 es
    precision mediump float;
    in vec4 m_position;
    out vec2 v_texCoord;

    void main(void)
    {
        gl_Position = vec4(m_position.xy, 0.0, 1.0);
        v_texCoord = m_position.pq;
    }`,i=`#version 300 es
    precision mediump float;
    precision mediump sampler2D;

    const float fadeSpeed = `+(_.preset.fadeSpeed/255).toFixed(7)+`;
    const float width = `+_.canvas.width.toFixed(1)+`;
    const float height = `+_.canvas.height.toFixed(1)+`;

    in vec2 v_texCoord;
    uniform sampler2D renderTex;

    out vec4 color;

    void main(void)
    {
        vec4 sum = vec4(0.0, 0.0, 0.0, 0.0);

        // 3x3 blur
        for (float offsetX = -1.0/width; offsetX <= 1.0/width; offsetX += 1.0/width)
        {
            for (float offsetY = -1.0/height; offsetY <= 1.0/height; offsetY += 1.0/height)
            {
                sum += texture(renderTex, v_texCoord + vec2(offsetX, offsetY));
            }
        }
	      vec4 blurredCol = sum / 9.0;

        color = blurredCol;

        // Fade each trailing agent pixel out over time
        color = color - fadeSpeed;
    }`,l=Ae(e,t,r);e.useProgram(l);const u=e.getUniformLocation(l,"agentTex");e.uniform1i(u,0);const c=e.getUniformLocation(l,"renderTex");e.uniform1i(c,1);const v=Ae(e,n,o);e.useProgram(v);const S=e.getUniformLocation(v,"agentTex");e.uniform1i(S,0);const T=e.getUniformLocation(v,"agentCol");e.uniform1i(T,1);const d=Ae(e,a,i);e.useProgram(d);const y=e.getUniformLocation(d,"renderTex");return e.uniform1i(y,0),e.useProgram(null),{moveAgentProg:l,renderAgentProg:v,postProcessingProg:d}}function Ae(e,t,r){const n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)||console.error(e.getShaderInfoLog(n));const o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)||console.error(e.getShaderInfoLog(o));const a=e.createProgram();return e.attachShader(a,n),e.attachShader(a,o),e.linkProgram(a),e.deleteShader(n),e.deleteShader(o),a}function Hn(e,t,r){let n=[],o=t.canvas.height/t.canvas.width;for(let d=0;d<t.agents.length;d++)n.push(t.agents[d].x*o+.5),n.push(t.agents[d].y+.5),n.push(t.agents[d].rot),n.push(.5);te=Gn(e,new Float32Array(n),new Uint8Array(t.agentColors)),e.useProgram(r.moveAgentProg),W.pMousePosition=e.getUniformLocation(r.moveAgentProg,"v_mousePosition"),e.uniform2f(W.pMousePosition,.5,.5),e.useProgram(null);var a=e.getAttribLocation(r.moveAgentProg,"m_position"),i=e.getAttribLocation(r.renderAgentProg,"r_agentCoord"),l=e.getAttribLocation(r.postProcessingProg,"m_position");fe={positionBuffer:e.createBuffer(),lookupBuffer:e.createBuffer(),inputBuffer:e.createBuffer()},e.bindBuffer(e.ARRAY_BUFFER,fe.positionBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,0,0,1,-1,1,0,-1,1,0,1,-1,1,0,1,1,-1,1,0,1,1,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(a),e.vertexAttribPointer(a,4,e.FLOAT,!1,0,0),e.vertexAttribPointer(l,4,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,fe.lookupBuffer);let u=[];for(let d=0;d<te.agentTextureLength;d++)for(let y=0;y<te.agentTextureLength;y++)u.push((y+.5)/te.agentTextureLength),u.push((d+.5)/te.agentTextureLength);e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW),e.enableVertexAttribArray(i),e.bindBuffer(e.ARRAY_BUFFER,fe.lookupBuffer),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),mt={agentFramebuffer:e.createFramebuffer(),postProcessingFrameBuffer:e.createFramebuffer()};var c=!0,v=window.performance.now(),S=1e3/Xn;function T(d){let y=d-v;y>S&&(v=d-y%S,jn(c,e,qe,mt,te),c=!c),window.requestAnimationFrame(T)}window.requestAnimationFrame(T)}function oe(e,t,r,n,o,a,i){const l=e.createTexture();return e.bindTexture(e.TEXTURE_2D,l),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_BASE_LEVEL,0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAX_LEVEL,0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,t,r,n,0,o,a,i),e.bindTexture(e.TEXTURE_2D,null),l}function Gn(e,t,r){const n=Math.ceil(Math.sqrt(_.agents.length));let o=new Uint32Array(t.buffer);const a=oe(e,e.RGBA32UI,n,n,e.RGBA_INTEGER,e.UNSIGNED_INT,o),i=oe(e,e.RGBA32UI,n,n,e.RGBA_INTEGER,e.UNSIGNED_INT,null),l=oe(e,e.RGBA,n,n,e.RGBA,e.UNSIGNED_BYTE,r),u=oe(e,e.RGBA,_.canvas.width,_.canvas.height,e.RGBA,e.UNSIGNED_BYTE,null),c=oe(e,e.RGBA,_.canvas.width,_.canvas.height,e.RGBA,e.UNSIGNED_BYTE,null);return{agentTexture:a,agentTextureSwap:i,agentColor:l,agentTextureLength:n,renderTexture:u,renderTextureSwap:c}}function jn(e,t,r,n,o){t.viewport(0,0,o.agentTextureLength,o.agentTextureLength),t.useProgram(r.moveAgentProg),t.uniform2f(W.pMousePosition,W.mousePos[0],W.mousePos[1]),t.bindFramebuffer(t.FRAMEBUFFER,n.agentFramebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e?o.agentTextureSwap:o.agentTexture,0),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,e?o.agentTexture:o.agentTextureSwap),t.activeTexture(t.TEXTURE0+1),t.bindTexture(t.TEXTURE_2D,o.renderTexture),t.drawArrays(t.TRIANGLES,0,6),t.viewport(0,0,_.canvas.width,_.canvas.height),t.useProgram(r.renderAgentProg),t.bindFramebuffer(t.FRAMEBUFFER,n.postProcessingFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e?o.renderTextureSwap:o.renderTexture,0),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,o.agentTexture),t.activeTexture(t.TEXTURE0+1),t.bindTexture(t.TEXTURE_2D,o.agentColor),t.drawArrays(t.POINTS,0,_.agents.length),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e?o.renderTexture:o.renderTextureSwap,0),t.useProgram(r.postProcessingProg),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,e?o.renderTextureSwap:o.renderTexture),t.drawArrays(t.TRIANGLES,0,6),t.bindFramebuffer(t.FRAMEBUFFER,null),t.drawArrays(t.TRIANGLES,0,6)}const Yn=2**(2*8);let Kn=[{name:"Circle Towards Centre",createAgents:function(){let e=[],t=[],r=.4;for(let n=0;n<Yn;n++){let o=2*Math.PI*Math.random(),a=r*Math.sqrt(Math.random()),i=a*Math.cos(o),l=a*Math.sin(o),u=Math.atan2(-l,-i);e.push({x:Math.sin(n),x:i,y:l,rot:u.toFixed(2)}),t.push(255),t.push(255),t.push(255),t.push(255)}return{agents:e,colors:t}},pointSize:1,turnSpeed:.25,maxSpeed:4,fadeSpeed:10,sensorOffsetDistance:10,leftSensorAngle:.3,rightSensorAngle:-.3}];be({name:"BackgroundVisualiser",components:{},mounted(){var e=this.$refs.visCanvas;e.width=Math.round(window.innerWidth),e.height=Math.round(window.innerHeight),this.$nextTick(()=>{}),Qn(Kn[0])},methods:{resizeCanvas(){var e=this.$refs.visCanvas.parentNode,t=getComputedStyle(e),r=parseInt(t.getPropertyValue("width"),10),n=parseInt(t.getPropertyValue("height"),10);this.$refs.visCanvas.width=r,this.$refs.visCanvas.height=n,console.log(r,n)}},setup(){return{}}});const{getScrollTarget:Jn,setVerticalScrollPosition:Zn}=Bn,eo=be({name:"PortfolioPage",components:{},methods:{scrollToElement(e){const t=Jn(e),r=e.offsetTop;Zn(t,r,1e3)}},setup(){return{portfolioItems:[{title:"Blender DCX Importer",subtitle:"A Blender plugin for importing Fromsoft DCX files",description:"Some Desc.",img:"portfolio/blender_dcx_img.png",actions:[{title:"View source on Github",url:"https://github.com/FelixBenter/FromSoftware-Blender-Importer"}]}]}}}),to={class:"no-wrap items-center"},no={class:"text-h4"},oo={class:"text-subtitle1"},ro={class:"text-body1"};function ao(e,t,r,n,o,a){return Z(),he(wt,null,{default:z(()=>[(Z(!0),Ce(et,null,Ze(e.portfolioItems,i=>(Z(),Ce("div",{key:i.title},[I(On,{class:"bg-primary",style:{height:"400px"}},{default:z(()=>[I(vt,{horizontal:"",class:"full-height"},{default:z(()=>[I(Nn,{class:"col-5",src:i.img},null,8,["src"]),I(vt,null,{default:z(()=>[ce("div",to,[ce("div",no,Ee(i.title),1)]),ce("div",oo,Ee(i.subtitle),1),ce("div",ro,Ee(i.description),1),I(ft,{style:{position:"absolute",bottom:"0"}},{default:z(()=>[(Z(!0),Ce(et,null,Ze(i.actions,l=>(Z(),he(Zt,{color:"secondary",key:l.url,label:l.title,href:l.url,target:"_blank"},null,8,["label","href"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024),I(ft)]),_:2},1024)]))),128))]),_:1})}var io=Ie(eo,[["render",ao]]);const so=be({name:"MainLayout",components:{OverviewPage:In,PortfolioPage:io},setup(){return{tab:E("overview")}}}),lo=Tt(" Felix Benter ");function uo(e,t,r,n,o,a){const i=tt("OverviewPage"),l=tt("PortfolioPage");return Z(),he(qn,{view:"hHh lpR fFf"},{default:z(()=>[I(fn,{elevated:"",class:"bg-primary text-white","height-hint":"98"},{default:z(()=>[I(tn,null,{default:z(()=>[I(en,null,{default:z(()=>[lo]),_:1})]),_:1}),I(dn,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=u=>e.tab=u),class:"text-white"},{default:z(()=>[I(ot,{name:"overview",label:"Overview"}),I(ot,{name:"portfolio",label:"Portfolio"})]),_:1},8,["modelValue"])]),_:1}),I(_n,null,{default:z(()=>[I(yn,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=u=>e.tab=u),animated:""},{default:z(()=>[I(ct,{name:"overview"},{default:z(()=>[I(i)]),_:1}),I(ct,{name:"portfolio"},{default:z(()=>[I(l)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}var ho=Ie(so,[["render",uo]]);export{ho as default};
