import{w as ce,a as Be,d as fo,g as we,a0 as vo,c as u,h as m,r as M,a1 as En,a2 as mo,a3 as Rn,B as ye,n as _e,a4 as An,a5 as kn,o as ho,i as go,E as Ee,T as xt,G as pe,A as Bn,K as ft,O as on,l as Ie,a6 as po,b as qn,N as bo,a7 as So,a8 as at,V as ke,a9 as yo,H as xo,I as ht,J as Bt,L as qt,P as Co,aa as Ft,_ as wo,m as To,q as _o,Q as Eo,z as Ro,x as Ao,S as ko}from"./index.0934270e.js";import{u as Bo,a as qo,b as Ot,e as Fo}from"./QBtn.6d2e295c.js";import{u as jt,a as Wt}from"./use-dark.dca5a198.js";import{c as Ue,k as Mo,h as Je,m as Fn,b as Mn,f as Vo,j as Po}from"./dom.10588920.js";import{m as Gt,n as Lo,u as Do,a as Vn,b as Pn,v as ln,c as Io,d as Ln,e as Dn,f as In,g as zo,h as $o,i as Oo,j as zn,k as $n,r as rn,s as Uo,p as an,l as No,o as Ho}from"./position-engine.35660d8b.js";import{b as Xo,g as un,s as sn}from"./QCard.139a237c.js";import{a as jo,b as Wo,Q as Go}from"./QItem.92662534.js";import{g as Ko,b as Yo,a as Qo,h as Zo}from"./scroll.22aed7c3.js";import{c as Jo}from"./selection.9d4b59a1.js";function el({validate:e,resetValidation:t,requiresQForm:o}){const l=fo(vo,!1);if(l!==!1){const{props:n,proxy:a}=we();Object.assign(a,{validate:e,resetValidation:t}),ce(()=>n.disable,i=>{i===!0?(typeof t=="function"&&t(),l.unbindComponent(a)):l.bindComponent(a)}),n.disable!==!0&&l.bindComponent(a),Be(()=>{n.disable!==!0&&l.unbindComponent(a)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const cn=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,dn=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,fn=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,gt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,pt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Mt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>cn.test(e),hexaColor:e=>dn.test(e),hexOrHexaColor:e=>fn.test(e),rgbColor:e=>gt.test(e),rgbaColor:e=>pt.test(e),rgbOrRgbaColor:e=>gt.test(e)||pt.test(e),hexOrRgbColor:e=>cn.test(e)||gt.test(e),hexaOrRgbaColor:e=>dn.test(e)||pt.test(e),anyColor:e=>fn.test(e)||gt.test(e)||pt.test(e)};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(e=>{e.toLowerCase()});const tl={...Bo,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean};function ze(e,t,o){return o<=t?t:Math.min(o,Math.max(t,e))}function vn(e,t,o){if(o<=t)return t;const l=o-t+1;let n=t+(e-t)%l;return n<t&&(n=l+n),n===0?0:n}const Ut=50,On=2*Ut,Un=On*Math.PI,nl=Math.round(Un*1e3)/1e3;Ue({name:"QCircularProgress",props:{...tl,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=we(),l=qo(e),n=u(()=>{const y=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-y}deg)`:`rotate3d(0, 0, 1, ${y-90}deg)`}}),a=u(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),i=u(()=>On/(1-e.thickness/2)),s=u(()=>`${i.value/2} ${i.value/2} ${i.value} ${i.value}`),c=u(()=>ze(e.value,e.min,e.max)),h=u(()=>Un*(1-(c.value-e.min)/(e.max-e.min))),d=u(()=>e.thickness/2*i.value);function x({thickness:y,offset:v,color:E,cls:U}){return m("circle",{class:"q-circular-progress__"+U+(E!==void 0?` text-${E}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":y,"stroke-dasharray":nl,"stroke-dashoffset":v,cx:i.value,cy:i.value,r:Ut})}return()=>{const y=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&y.push(m("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ut-d.value/2,cx:i.value,cy:i.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&y.push(x({cls:"track",thickness:d.value,offset:0,color:e.trackColor})),y.push(x({cls:"circle",thickness:d.value,offset:h.value,color:e.color}));const v=[m("svg",{class:"q-circular-progress__svg",style:n.value,viewBox:s.value,"aria-hidden":"true"},y)];return e.showValue===!0&&v.push(m("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[m("div",c.value)])),m("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:l.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:c.value},Mo(t.internal,v))}}});const ol=["rejected"],ll=[...ol,"start","finish","added","removed"],rl=()=>!0;function al(e){const t={};return e.forEach(o=>{t[o]=rl}),t}al(ll);let Vt,bt=0;const fe=new Array(256);for(let e=0;e<256;e++)fe[e]=(e+256).toString(16).substring(1);const il=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const o=new Uint8Array(t);return e.getRandomValues(o),o}}return t=>{const o=[];for(let l=t;l>0;l--)o.push(Math.floor(Math.random()*256));return o}})(),mn=4096;function ul(){(Vt===void 0||bt+16>mn)&&(bt=0,Vt=il(mn));const e=Array.prototype.slice.call(Vt,bt,bt+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,fe[e[0]]+fe[e[1]]+fe[e[2]]+fe[e[3]]+"-"+fe[e[4]]+fe[e[5]]+"-"+fe[e[6]]+fe[e[7]]+"-"+fe[e[8]]+fe[e[9]]+"-"+fe[e[10]]+fe[e[11]]+fe[e[12]]+fe[e[13]]+fe[e[14]]+fe[e[15]]}const sl=[!0,!1,"ondemand"],cl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>sl.includes(e)}};function dl(e,t){const{props:o,proxy:l}=we(),n=M(!1),a=M(null),i=M(null);el({validate:E,resetValidation:v});let s=0,c;const h=u(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length>0),d=u(()=>o.disable!==!0&&h.value===!0),x=u(()=>o.error===!0||n.value===!0),y=u(()=>typeof o.errorMessage=="string"&&o.errorMessage.length>0?o.errorMessage:a.value);ce(()=>o.modelValue,()=>{U()}),ce(()=>o.reactiveRules,P=>{P===!0?c===void 0&&(c=ce(()=>o.rules,()=>{U(!0)})):c!==void 0&&(c(),c=void 0)},{immediate:!0}),ce(e,P=>{P===!0?i.value===null&&(i.value=!1):i.value===!1&&(i.value=!0,d.value===!0&&o.lazyRules!=="ondemand"&&t.value===!1&&I())});function v(){s++,t.value=!1,i.value=null,n.value=!1,a.value=null,I.cancel()}function E(P=o.modelValue){if(d.value!==!0)return!0;const V=++s;t.value!==!0&&o.lazyRules!==!0&&(i.value=!0);const B=(R,O)=>{n.value!==R&&(n.value=R);const D=O||void 0;a.value!==D&&(a.value=D),t.value=!1},q=[];for(let R=0;R<o.rules.length;R++){const O=o.rules[R];let D;if(typeof O=="function"?D=O(P,Mt):typeof O=="string"&&Mt[O]!==void 0&&(D=Mt[O](P)),D===!1||typeof D=="string")return B(!0,D),!1;D!==!0&&D!==void 0&&q.push(D)}return q.length===0?(B(!1),!0):(t.value=!0,Promise.all(q).then(R=>{if(R===void 0||Array.isArray(R)===!1||R.length===0)return V===s&&B(!1),!0;const O=R.find(D=>D===!1||typeof D=="string");return V===s&&B(O!==void 0,O),O===void 0},R=>(V===s&&(console.error(R),B(!0)),!1)))}function U(P){d.value===!0&&o.lazyRules!=="ondemand"&&(i.value===!0||o.lazyRules!==!0&&P!==!0)&&I()}const I=En(E,0);return Be(()=>{c!==void 0&&c(),I.cancel()}),Object.assign(l,{resetValidation:v,validate:E}),mo(l,"hasError",()=>x.value),{isDirtyModel:i,hasRules:h,hasError:x,errorMessage:y,validate:E,resetValidation:v}}const hn=/^on[A-Z]/;function fl(e,t){const o={listeners:M({}),attributes:M({})};function l(){const n={},a={};for(const i in e)i!=="class"&&i!=="style"&&hn.test(i)===!1&&(n[i]=e[i]);for(const i in t.props)hn.test(i)===!0&&(a[i]=t.props[i]);o.attributes.value=n,o.listeners.value=a}return Rn(l),l(),o}function Nt(e){return e===void 0?`f_${ul()}`:e}function Ht(e){return e!=null&&(""+e).length>0}const Kt={...jt,...cl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Nn=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function Hn(){const{props:e,attrs:t,proxy:o,vnode:l}=we();return{isDark:Wt(e,o.$q),editable:u(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:M(!1),focused:M(!1),hasPopupOpen:!1,splitAttrs:fl(t,l),targetUid:M(Nt(e.for)),rootRef:M(null),targetRef:M(null),controlRef:M(null)}}function Xn(e){const{props:t,emit:o,slots:l,attrs:n,proxy:a}=we(),{$q:i}=a;let s;e.hasValue===void 0&&(e.hasValue=u(()=>Ht(t.modelValue))),e.emitValue===void 0&&(e.emitValue=w=>{o("update:modelValue",w)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:le,onFocusout:Z}),Object.assign(e,{clearValue:H,onControlFocusin:le,onControlFocusout:Z,focus:D}),e.computedCounter===void 0&&(e.computedCounter=u(()=>{if(t.counter!==!1){const w=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,z=t.maxlength!==void 0?t.maxlength:t.maxValues;return w+(z!==void 0?" / "+z:"")}}));const{isDirtyModel:c,hasRules:h,hasError:d,errorMessage:x,resetValidation:y}=dl(e.focused,e.innerLoading),v=e.floatingLabel!==void 0?u(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):u(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),E=u(()=>t.bottomSlots===!0||t.hint!==void 0||h.value===!0||t.counter===!0||t.error!==null),U=u(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),I=u(()=>`q-field row no-wrap items-start q-field--${U.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(v.value===!0?" q-field--float":"")+(V.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(d.value===!0?" q-field--error":"")+(d.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&E.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),P=u(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(d.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),V=u(()=>t.labelSlot===!0||t.label!==void 0),B=u(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&d.value!==!0?` text-${t.labelColor}`:"")),q=u(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:v.value,modelValue:t.modelValue,emitValue:e.emitValue})),R=u(()=>{const w={for:e.targetUid.value};return t.disable===!0?w["aria-disabled"]="true":t.readonly===!0&&(w["aria-readonly"]="true"),w});ce(()=>t.for,w=>{e.targetUid.value=Nt(w)});function O(){const w=document.activeElement;let z=e.targetRef!==void 0&&e.targetRef.value;z&&(w===null||w.id!==e.targetUid.value)&&(z.hasAttribute("tabindex")===!0||(z=z.querySelector("[tabindex]")),z&&z!==w&&z.focus({preventScroll:!0}))}function D(){Gt(O)}function J(){Lo(O);const w=document.activeElement;w!==null&&e.rootRef.value.contains(w)&&w.blur()}function le(w){clearTimeout(s),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",w))}function Z(w,z){clearTimeout(s),s=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,o("blur",w)),z!==void 0&&z())})}function H(w){ye(w),i.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",t.modelValue),_e(()=>{y(),i.platform.is.mobile!==!0&&(c.value=!1)})}function ne(){const w=[];return l.prepend!==void 0&&w.push(m("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ee},l.prepend())),w.push(m("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},oe())),d.value===!0&&t.noErrorIcon===!1&&w.push(G("error",[m(Ot,{name:i.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?w.push(G("inner-loading-append",l.loading!==void 0?l.loading():[m(Fo,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&w.push(G("inner-clearable-append",[m(Ot,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||i.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:H})])),l.append!==void 0&&w.push(m("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ee},l.append())),e.getInnerAppend!==void 0&&w.push(G("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&w.push(e.getControlChild()),w}function oe(){const w=[];return t.prefix!==void 0&&t.prefix!==null&&w.push(m("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&w.push(e.getShadowControl()),e.getControl!==void 0?w.push(e.getControl()):l.rawControl!==void 0?w.push(l.rawControl()):l.control!==void 0&&w.push(m("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(q.value))),V.value===!0&&w.push(m("div",{class:B.value},Je(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&w.push(m("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),w.concat(Je(l.default))}function ee(){let w,z;d.value===!0?x.value!==null?(w=[m("div",{role:"alert"},x.value)],z=`q--slot-error-${x.value}`):(w=Je(l.error),z="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(w=[m("div",t.hint)],z=`q--slot-hint-${t.hint}`):(w=Je(l.hint),z="q--slot-hint"));const ve=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&ve===!1&&w===void 0)return;const g=m("div",{key:z,class:"q-field__messages col"},w);return m("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Ee},[t.hideBottomSpace===!0?g:m(xt,{name:"q-transition--field-message"},()=>g),ve===!0?m("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function G(w,z){return z===null?null:m("div",{key:w,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},z)}let de=!1;return An(()=>{de=!0}),kn(()=>{de===!0&&t.autofocus===!0&&a.focus()}),ho(()=>{go.value===!0&&t.for===void 0&&(e.targetUid.value=Nt()),t.autofocus===!0&&a.focus()}),Be(()=>{clearTimeout(s)}),Object.assign(a,{focus:D,blur:J}),function(){const z=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...R.value}:R.value;return m("label",{ref:e.rootRef,class:[I.value,n.class],style:n.style,...z},[l.before!==void 0?m("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ee},l.before()):null,m("div",{class:"q-field__inner relative-position col self-stretch"},[m("div",{ref:e.controlRef,class:P.value,tabindex:-1,...e.controlEvents},ne()),E.value===!0?ee():null]),l.after!==void 0?m("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ee},l.after()):null])}}var vl=Ue({name:"QField",inheritAttrs:!1,props:Kt,emits:Nn,setup(){return Xn(Hn())}});const $e=[];let nt;function ml(e){nt=e.keyCode===27}function hl(){nt===!0&&(nt=!1)}function pl(e){nt===!0&&(nt=!1,Bn(e,27)===!0&&$e[$e.length-1](e))}function jn(e){window[e]("keydown",ml),window[e]("blur",hl),window[e]("keyup",pl),nt=!1}function Wn(e){pe.is.desktop===!0&&($e.push(e),$e.length===1&&jn("addEventListener"))}function Ct(e){const t=$e.indexOf(e);t>-1&&($e.splice(t,1),$e.length===0&&jn("removeEventListener"))}const Oe=[];function Gn(e){Oe[Oe.length-1](e)}function Kn(e){pe.is.desktop===!0&&(Oe.push(e),Oe.length===1&&document.body.addEventListener("focusin",Gn))}function Xt(e){const t=Oe.indexOf(e);t>-1&&(Oe.splice(t,1),Oe.length===0&&document.body.removeEventListener("focusin",Gn))}var bl=Ue({name:"QMenu",inheritAttrs:!1,props:{...Do,...Vn,...jt,...Pn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ln},self:{type:String,validator:ln},offset:{type:Array,validator:Io},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ln,"click","escape-key"],setup(e,{slots:t,emit:o,attrs:l}){let n=null,a,i,s;const c=we(),{proxy:h}=c,{$q:d}=h,x=M(null),y=M(!1),v=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),E=Wt(e,d),{registerTick:U,removeTick:I}=Dn(),{registerTimeout:P,removeTimeout:V}=In(),{transition:B,transitionStyle:q}=zo(e,y),{localScrollTarget:R,changeScrollEvent:O,unconfigureScrollTarget:D}=$o(e,N),{anchorEl:J,canShow:le}=Oo({showing:y}),{hide:Z}=zn({showing:y,canShow:le,handleShow:p,handleHide:_,hideOnRouteChange:v,processOnMount:!0}),{showPortal:H,hidePortal:ne,renderPortal:oe}=$n(c,x,b),ee={anchorEl:J,innerRef:x,onClickOutside(T){if(e.persistent!==!0&&y.value===!0)return Z(T),(T.type==="touchstart"||T.target.classList.contains("q-dialog__backdrop"))&&ye(T),!0}},G=u(()=>an(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),de=u(()=>e.cover===!0?G.value:an(e.self||"top start",d.lang.rtl)),w=u(()=>(e.square===!0?" q-menu--square":"")+(E.value===!0?" q-menu--dark q-dark":"")),z=u(()=>e.autoClose===!0?{onClick:te}:{}),ve=u(()=>y.value===!0&&e.persistent!==!0);ce(ve,T=>{T===!0?(Wn(A),No(ee)):(Ct(A),rn(ee))});function g(){Gt(()=>{let T=x.value;T&&T.contains(document.activeElement)!==!0&&(T=T.querySelector("[autofocus], [data-autofocus]")||T,T.focus({preventScroll:!0}))})}function p(T){if(I(),V(),n=e.noRefocus===!1?document.activeElement:null,Kn(L),H(),N(),a=void 0,T!==void 0&&(e.touchPosition||e.contextMenu)){const ie=ft(T);if(ie.left!==void 0){const{top:be,left:ue}=J.value.getBoundingClientRect();a={left:ie.left-ue,top:ie.top-be}}}i===void 0&&(i=ce(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,K)),e.noFocus!==!0&&document.activeElement.blur(),U(()=>{K(),e.noFocus!==!0&&g()}),P(()=>{d.platform.is.ios===!0&&(s=e.autoClose,x.value.click()),K(),H(!0),o("show",T)},e.transitionDuration)}function _(T){I(),V(),ne(),k(!0),n!==null&&(T===void 0||T.qClickOutside!==!0)&&(n.focus(),n=null),P(()=>{ne(!0),o("hide",T)},e.transitionDuration)}function k(T){a=void 0,i!==void 0&&(i(),i=void 0),(T===!0||y.value===!0)&&(Xt(L),D(),rn(ee),Ct(A)),T!==!0&&(n=null)}function N(){(J.value!==null||e.scrollTarget!==void 0)&&(R.value=Ko(J.value,e.scrollTarget),O(R.value,K))}function te(T){s!==!0?(Ho(h,T),o("click",T)):s=!1}function L(T){ve.value===!0&&e.noFocus!==!0&&Fn(x.value,T.target)!==!0&&g()}function A(T){o("escape-key"),Z(T)}function K(){const T=x.value;T===null||J.value===null||Uo({el:T,offset:e.offset,anchorEl:J.value,anchorOrigin:G.value,selfOrigin:de.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function b(){return m(xt,{name:B.value,appear:!0},()=>y.value===!0?m("div",{...l,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+w.value,l.class],style:[l.style,q.value],...z.value},Je(t.default)):null)}return Be(k),Object.assign(h,{focus:g,updatePosition:K}),oe}});function Sl(e,t,o){let l;function n(){l!==void 0&&(on.remove(l),l=void 0)}return Be(()=>{e.value===!0&&n()}),{removeFromHistory:n,addToHistory(){l={condition:()=>o.value===!0,handler:t},on.add(l)}}}let it=0,Pt,Lt,dt,Dt=!1,gn,pn,Ze;function yl(e){xl(e)&&ye(e)}function xl(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=po(e),o=e.shiftKey&&!e.deltaX,l=!o&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),n=o||l?e.deltaY:e.deltaX;for(let a=0;a<t.length;a++){const i=t[a];if(Zo(i,l))return l?n<0&&i.scrollTop===0?!0:n>0&&i.scrollTop+i.clientHeight===i.scrollHeight:n<0&&i.scrollLeft===0?!0:n>0&&i.scrollLeft+i.clientWidth===i.scrollWidth}return!0}function bn(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function St(e){Dt!==!0&&(Dt=!0,requestAnimationFrame(()=>{Dt=!1;const{height:t}=e.target,{clientHeight:o,scrollTop:l}=document.scrollingElement;(dt===void 0||t!==window.innerHeight)&&(dt=o-t,document.scrollingElement.scrollTop=l),l>dt&&(document.scrollingElement.scrollTop-=Math.ceil((l-dt)/8))}))}function Sn(e){const t=document.body,o=window.visualViewport!==void 0;if(e==="add"){const{overflowY:l,overflowX:n}=window.getComputedStyle(t);Pt=Yo(window),Lt=Qo(window),gn=t.style.left,pn=t.style.top,t.style.left=`-${Pt}px`,t.style.top=`-${Lt}px`,n!=="hidden"&&(n==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),l!=="hidden"&&(l==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,pe.is.ios===!0&&(o===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",St,Ie.passiveCapture),window.visualViewport.addEventListener("scroll",St,Ie.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",bn,Ie.passiveCapture))}pe.is.desktop===!0&&pe.is.mac===!0&&window[`${e}EventListener`]("wheel",yl,Ie.notPassive),e==="remove"&&(pe.is.ios===!0&&(o===!0?(window.visualViewport.removeEventListener("resize",St,Ie.passiveCapture),window.visualViewport.removeEventListener("scroll",St,Ie.passiveCapture)):window.removeEventListener("scroll",bn,Ie.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=gn,t.style.top=pn,window.scrollTo(Pt,Lt),dt=void 0)}function Cl(e){let t="add";if(e===!0){if(it++,Ze!==void 0){clearTimeout(Ze),Ze=void 0;return}if(it>1)return}else{if(it===0||(it--,it>0))return;if(t="remove",pe.is.ios===!0&&pe.is.nativeMobile===!0){clearTimeout(Ze),Ze=setTimeout(()=>{Sn(t),Ze=void 0},100);return}}Sn(t)}function wl(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Cl(t))}}}let yt=0;const Tl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},yn={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var _l=Ue({name:"QDialog",inheritAttrs:!1,props:{...Vn,...Pn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Ln,"shake","click","escape-key"],setup(e,{slots:t,emit:o,attrs:l}){const n=we(),a=M(null),i=M(!1),s=M(!1),c=M(!1);let h,d=null,x,y;const v=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:E}=wl(),{registerTimeout:U,removeTimeout:I}=In(),{registerTick:P,removeTick:V}=Dn(),{showPortal:B,hidePortal:q,portalIsAccessible:R,renderPortal:O}=$n(n,a,K,!0),{hide:D}=zn({showing:i,hideOnRouteChange:v,handleShow:z,handleHide:ve,processOnMount:!0}),{addToHistory:J,removeFromHistory:le}=Sl(i,D,v),Z=u(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Tl[e.position]}`+(c.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),H=u(()=>"q-transition--"+(e.transitionShow===void 0?yn[e.position][0]:e.transitionShow)),ne=u(()=>"q-transition--"+(e.transitionHide===void 0?yn[e.position][1]:e.transitionHide)),oe=u(()=>s.value===!0?ne.value:H.value),ee=u(()=>`--q-transition-duration: ${e.transitionDuration}ms`),G=u(()=>i.value===!0&&e.seamless!==!0),de=u(()=>e.autoClose===!0?{onClick:te}:{}),w=u(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${G.value===!0?"modal":"seamless"}`,l.class]);ce(i,b=>{_e(()=>{s.value=b})}),ce(()=>e.maximized,b=>{i.value===!0&&N(b)}),ce(G,b=>{E(b),b===!0?(Kn(A),Wn(_)):(Xt(A),Ct(_))});function z(b){I(),V(),J(),d=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,N(e.maximized),B(),c.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),P(g)),U(()=>{if(n.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:T,bottom:ie}=document.activeElement.getBoundingClientRect(),{innerHeight:be}=window,ue=window.visualViewport!==void 0?window.visualViewport.height:be;T>0&&ie>ue/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ue,ie>=be?1/0:Math.ceil(document.scrollingElement.scrollTop+ie-ue/2))),document.activeElement.scrollIntoView()}y=!0,a.value.click(),y=!1}B(!0),c.value=!1,o("show",b)},e.transitionDuration)}function ve(b){I(),V(),le(),k(!0),c.value=!0,q(),d!==null&&(d.focus(),d=null),U(()=>{q(!0),c.value=!1,o("hide",b)},e.transitionDuration)}function g(b){Gt(()=>{let T=a.value;T===null||T.contains(document.activeElement)===!0||(T=T.querySelector(b||"[autofocus], [data-autofocus]")||T,T.focus({preventScroll:!0}))})}function p(){g(),o("shake");const b=a.value;b!==null&&(b.classList.remove("q-animate--scale"),b.classList.add("q-animate--scale"),clearTimeout(h),h=setTimeout(()=>{a.value!==null&&(b.classList.remove("q-animate--scale"),g())},170))}function _(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&p():(o("escape-key"),D()))}function k(b){clearTimeout(h),(b===!0||i.value===!0)&&(N(!1),e.seamless!==!0&&(E(!1),Xt(A),Ct(_))),b!==!0&&(d=null)}function N(b){b===!0?x!==!0&&(yt<1&&document.body.classList.add("q-body--dialog"),yt++,x=!0):x===!0&&(yt<2&&document.body.classList.remove("q-body--dialog"),yt--,x=!1)}function te(b){y!==!0&&(D(b),o("click",b))}function L(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?D(b):e.noShake!==!0&&p()}function A(b){e.allowFocusOutside!==!0&&R.value===!0&&Fn(a.value,b.target)!==!0&&g('[tabindex]:not([tabindex="-1"])')}Object.assign(n.proxy,{focus:g,shake:p,__updateRefocusTarget(b){d=b||null}}),Be(k);function K(){return m("div",{...l,class:w.value},[m(xt,{name:"q-transition--fade",appear:!0},()=>G.value===!0?m("div",{class:"q-dialog__backdrop fixed-full",style:ee.value,"aria-hidden":"true",onMousedown:L}):null),m(xt,{name:oe.value,appear:!0},()=>i.value===!0?m("div",{ref:a,class:Z.value,style:ee.value,tabindex:-1,...de.value},Je(t.default)):null)])}return O}});let wt=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,wt=e.scrollLeft>=0,e.remove()}const xe=1e3,El=["start","center","end","start-force","center-force","end-force"],Yn=Array.prototype.filter,Rl=window.getComputedStyle(document.body).overflowAnchor===void 0?qn:function(e,t){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const o=e.children||[];Yn.call(o,n=>n.dataset&&n.dataset.qVsAnchor!==void 0).forEach(n=>{delete n.dataset.qVsAnchor});const l=o[t];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function tt(e,t){return e+t}function It(e,t,o,l,n,a,i,s){const c=e===window?document.scrollingElement||document.documentElement:e,h=n===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-i-s,scrollMaxSize:0,offsetStart:-i,offsetEnd:-s};if(n===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=c.scrollLeft,d.scrollViewSize+=c.clientWidth),d.scrollMaxSize=c.scrollWidth,a===!0&&(d.scrollStart=(wt===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=c.scrollTop,d.scrollViewSize+=c.clientHeight),d.scrollMaxSize=c.scrollHeight),o!==null)for(let x=o.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=x[h]);if(l!==null)for(let x=l.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=x[h]);if(t!==e){const x=c.getBoundingClientRect(),y=t.getBoundingClientRect();n===!0?(d.offsetStart+=y.left-x.left,d.offsetEnd-=y.width):(d.offsetStart+=y.top-x.top,d.offsetEnd-=y.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function xn(e,t,o,l){t==="end"&&(t=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(l===!0&&(t=(wt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):o===!0?(l===!0&&(t=(wt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function ut(e,t,o,l){if(o>=l)return 0;const n=t.length,a=Math.floor(o/xe),i=Math.floor((l-1)/xe)+1;let s=e.slice(a,i).reduce(tt,0);return o%xe!==0&&(s-=t.slice(a*xe,o).reduce(tt,0)),l%xe!==0&&l!==n&&(s-=t.slice(l,i*xe).reduce(tt,0)),s}const Al={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},kl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Al};function Bl({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:o,virtualScrollItemSizeComputed:l}){const n=we(),{props:a,emit:i,proxy:s}=n,{$q:c}=s;let h,d,x,y=[],v;const E=M(0),U=M(0),I=M({}),P=M(null),V=M(null),B=M(null),q=M({from:0,to:0}),R=u(()=>a.tableColspan!==void 0?a.tableColspan:100);l===void 0&&(l=u(()=>a.virtualScrollItemSize));const O=u(()=>l.value+";"+a.virtualScrollHorizontal),D=u(()=>O.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ce(D,()=>{de()}),ce(O,J);function J(){G(d,!0)}function le(p){G(p===void 0?d:p)}function Z(p,_){const k=t();if(k==null||k.nodeType===8)return;const N=It(k,o(),P.value,V.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);x!==N.scrollViewSize&&de(N.scrollViewSize),ne(k,N,Math.min(e.value-1,Math.max(0,parseInt(p,10)||0)),0,El.indexOf(_)>-1?_:d>-1&&p>d?"end":"start")}function H(){const p=t();if(p==null||p.nodeType===8)return;const _=It(p,o(),P.value,V.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),k=e.value-1,N=_.scrollMaxSize-_.offsetStart-_.offsetEnd-U.value;if(h===_.scrollStart)return;if(_.scrollMaxSize<=0){ne(p,_,0,0);return}x!==_.scrollViewSize&&de(_.scrollViewSize),oe(q.value.from);const te=Math.floor(_.scrollMaxSize-Math.max(_.scrollViewSize,_.offsetEnd)-Math.min(v[k],_.scrollViewSize/2));if(te>0&&Math.ceil(_.scrollStart)>=te){ne(p,_,k,_.scrollMaxSize-_.offsetEnd-y.reduce(tt,0));return}let L=0,A=_.scrollStart-_.offsetStart,K=A;if(A<=N&&A+_.scrollViewSize>=E.value)A-=E.value,L=q.value.from,K=A;else for(let b=0;A>=y[b]&&L<k;b++)A-=y[b],L+=xe;for(;A>0&&L<k;)A-=v[L],A>-_.scrollViewSize?(L++,K=A):K=v[L]+A;ne(p,_,L,K)}function ne(p,_,k,N,te){const L=typeof te=="string"&&te.indexOf("-force")>-1,A=L===!0?te.replace("-force",""):te,K=A!==void 0?A:"start";let b=Math.max(0,k-I.value[K]),T=b+I.value.total;T>e.value&&(T=e.value,b=Math.max(0,T-I.value.total)),h=_.scrollStart;const ie=b!==q.value.from||T!==q.value.to;if(ie===!1&&A===void 0){z(k);return}const{activeElement:be}=document,ue=B.value;ie===!0&&ue!==null&&ue!==be&&ue.contains(be)===!0&&(ue.addEventListener("focusout",ee),setTimeout(()=>{ue!==null&&ue.removeEventListener("focusout",ee)})),Rl(ue,k-b);const Ve=A!==void 0?v.slice(b,k).reduce(tt,0):0;if(ie===!0){const Re=T>=q.value.from&&b<=q.value.to?q.value.to:T;q.value={from:b,to:Re},E.value=ut(y,v,0,b),U.value=ut(y,v,T,e.value),requestAnimationFrame(()=>{q.value.to!==T&&h===_.scrollStart&&(q.value={from:q.value.from,to:T},U.value=ut(y,v,T,e.value))})}requestAnimationFrame(()=>{if(h!==_.scrollStart)return;ie===!0&&oe(b);const Re=v.slice(b,k).reduce(tt,0),Te=Re+_.offsetStart+E.value,Pe=Te+v[k];let Le=Te+N;if(A!==void 0){const ge=Re-Ve,ae=_.scrollStart+ge;Le=L!==!0&&ae<Te&&Pe<ae+_.scrollViewSize?ae:A==="end"?Pe-_.scrollViewSize:Te-(A==="start"?0:Math.round((_.scrollViewSize-v[k])/2))}h=Le,xn(p,Le,a.virtualScrollHorizontal,c.lang.rtl),z(k)})}function oe(p){const _=B.value;if(_){const k=Yn.call(_.children,b=>b.classList&&b.classList.contains("q-virtual-scroll--skip")===!1),N=k.length,te=a.virtualScrollHorizontal===!0?b=>b.getBoundingClientRect().width:b=>b.offsetHeight;let L=p,A,K;for(let b=0;b<N;){for(A=te(k[b]),b++;b<N&&k[b].classList.contains("q-virtual-scroll--with-prev")===!0;)A+=te(k[b]),b++;K=A-v[L],K!==0&&(v[L]+=K,y[Math.floor(L/xe)]+=K),L++}}}function ee(){B.value!==null&&B.value!==void 0&&B.value.focus()}function G(p,_){const k=1*l.value;(_===!0||Array.isArray(v)===!1)&&(v=[]);const N=v.length;v.length=e.value;for(let L=e.value-1;L>=N;L--)v[L]=k;const te=Math.floor((e.value-1)/xe);y=[];for(let L=0;L<=te;L++){let A=0;const K=Math.min((L+1)*xe,e.value);for(let b=L*xe;b<K;b++)A+=v[b];y.push(A)}d=-1,h=void 0,E.value=ut(y,v,0,q.value.from),U.value=ut(y,v,q.value.to,e.value),p>=0?(oe(q.value.from),_e(()=>{Z(p)})):ve()}function de(p){if(p===void 0&&typeof window!="undefined"){const A=t();A!=null&&A.nodeType!==8&&(p=It(A,o(),P.value,V.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}x=p;const _=parseFloat(a.virtualScrollSliceRatioBefore)||0,k=parseFloat(a.virtualScrollSliceRatioAfter)||0,N=1+_+k,te=p===void 0||p<=0?1:Math.ceil(p/l.value),L=Math.max(1,te,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/N));I.value={total:Math.ceil(L*N),start:Math.ceil(L*_),center:Math.ceil(L*(.5+_)),end:Math.ceil(L*(1+_)),view:te}}function w(p,_){const k=a.virtualScrollHorizontal===!0?"width":"height",N={["--q-virtual-scroll-item-"+k]:l.value+"px"};return[p==="tbody"?m(p,{class:"q-virtual-scroll__padding",key:"before",ref:P},[m("tr",[m("td",{style:{[k]:`${E.value}px`,...N},colspan:R.value})])]):m(p,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[k]:`${E.value}px`,...N}}),m(p,{class:"q-virtual-scroll__content",key:"content",ref:B,tabindex:-1},_.flat()),p==="tbody"?m(p,{class:"q-virtual-scroll__padding",key:"after",ref:V},[m("tr",[m("td",{style:{[k]:`${U.value}px`,...N},colspan:R.value})])]):m(p,{class:"q-virtual-scroll__padding",key:"after",ref:V,style:{[k]:`${U.value}px`,...N}})]}function z(p){d!==p&&(a.onVirtualScroll!==void 0&&i("virtual-scroll",{index:p,from:q.value.from,to:q.value.to-1,direction:p<d?"decrease":"increase",ref:s}),d=p)}de();const ve=En(H,c.platform.is.ios===!0?120:35);bo(()=>{de()});let g=!1;return An(()=>{g=!0}),kn(()=>{if(g!==!0)return;const p=t();h!==void 0&&p!==void 0&&p!==null&&p.nodeType!==8?xn(p,h,a.virtualScrollHorizontal,c.lang.rtl):Z(d)}),Be(()=>{ve.cancel()}),Object.assign(s,{scrollTo:Z,reset:J,refresh:le}),{virtualScrollSliceRange:q,virtualScrollSliceSizeComputed:I,setVirtualScrollSize:de,onVirtualScrollEvt:ve,localResetVirtualScroll:G,padVirtualScroll:w,scrollTo:Z,reset:J,refresh:le}}const Qn={name:String};function ql(e){return u(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function Fl(e={}){return(t,o,l)=>{t[o](m("input",{class:"hidden"+(l||""),...e.value}))}}function Ml(e){return u(()=>e.name||e.for)}const Vl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Pl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ll=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Dl=/[a-z0-9_ -]$/i;function Il(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(pe.is.firefox===!0?Dl.test(o.data)===!1:Vl.test(o.data)===!0||Pl.test(o.data)===!0||Ll.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}const Cn=e=>["add","add-unique","toggle"].includes(e),zl=".*+?^${}()|[]\\",$l=Object.keys(Kt);Ue({name:"QSelect",inheritAttrs:!1,props:{...kl,...Qn,...Kt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Cn},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Nn,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:o}){const{proxy:l}=we(),{$q:n}=l,a=M(!1),i=M(!1),s=M(-1),c=M(""),h=M(!1),d=M(!1);let x,y,v,E,U,I,P,V,B;const q=M(null),R=M(null),O=M(null),D=M(null),J=M(null),le=Ml(e),Z=Il(Zt),H=u(()=>Array.isArray(e.options)?e.options.length:0),ne=u(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:oe,virtualScrollSliceSizeComputed:ee,localResetVirtualScroll:G,padVirtualScroll:de,onVirtualScrollEvt:w,scrollTo:z,setVirtualScrollSize:ve}=Bl({virtualScrollLength:H,getVirtualScrollTarget:lt,getVirtualScrollEl:We,virtualScrollItemSizeComputed:ne}),g=Hn(),p=u(()=>{const r=e.mapOptions===!0&&e.multiple!==!0,C=e.modelValue!==void 0&&(e.modelValue!==null||r===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const S=e.mapOptions===!0&&y!==void 0?y:[],F=C.map(Q=>Rt(Q,S));return e.modelValue===null&&r===!0?F.filter(Q=>Q!==null):F}return C}),_=u(()=>{const r={};return $l.forEach(C=>{const S=e[C];S!==void 0&&(r[C]=S)}),r}),k=u(()=>e.optionsDark===null?g.isDark.value:e.optionsDark),N=u(()=>Ht(p.value)),te=u(()=>{let r="q-field__input q-placeholder col";return e.hideSelected===!0||p.value.length===0?[r,e.inputClass]:(r+=" q-field__input--padding",e.inputClass===void 0?r:[r,e.inputClass])}),L=u(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),A=u(()=>H.value===0),K=u(()=>p.value.map(r=>ae.value(r)).join(", ")),b=u(()=>e.optionsHtml===!0?()=>!0:r=>r!=null&&r.html===!0),T=u(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||p.value.some(b.value))),ie=u(()=>g.focused.value===!0?e.tabindex:-1),be=u(()=>{const r={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-owns":`${g.targetUid.value}_lb`,"aria-controls":`${g.targetUid.value}_lb`};return s.value>=0&&(r["aria-activedescendant"]=`${g.targetUid.value}_${s.value}`),r}),ue=u(()=>{const r={id:`${g.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return s.value>=0&&(r["aria-activedescendant"]=`${g.targetUid.value}_${s.value}`),r}),Ve=u(()=>p.value.map((r,C)=>({index:C,opt:r,html:b.value(r),selected:!0,removeAtIndex:Et,toggleOption:Ae,tabindex:ie.value}))),Re=u(()=>{if(H.value===0)return[];const{from:r,to:C}=oe.value;return e.options.slice(r,C).map((S,F)=>{const Q=qe.value(S)===!0,X=r+F,re={clickable:!0,active:!1,activeClass:Le.value,manualFocus:!0,focused:!1,disable:Q,tabindex:-1,dense:e.optionsDense,dark:k.value,role:"option",id:`${g.targetUid.value}_${X}`,onClick:()=>{Ae(S)}};return Q!==!0&&(f(S)===!0&&(re.active=!0),s.value===X&&(re.focused=!0),re["aria-selected"]=re.active===!0?"true":"false",n.platform.is.desktop===!0&&(re.onMousemove=()=>{a.value===!0&&Fe(X)})),{index:X,opt:S,html:b.value(S),label:ae.value(S),selected:re.active,focused:re.focused,toggleOption:Ae,setOptionIndex:Fe,itemProps:re}})}),Te=u(()=>e.dropdownIcon!==void 0?e.dropdownIcon:n.iconSet.arrow.dropdown),Pe=u(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Le=u(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ge=u(()=>ot(e.optionValue,"value")),ae=u(()=>ot(e.optionLabel,"label")),qe=u(()=>ot(e.optionDisable,"disable")),Ne=u(()=>p.value.map(r=>ge.value(r))),_t=u(()=>{const r={onInput:Zt,onChange:Z,onKeydown:Se,onKeyup:Y,onKeypress:se,onFocus:$,onClick(C){v===!0&&ke(C)}};return r.onCompositionstart=r.onCompositionupdate=r.onCompositionend=Z,r});ce(p,r=>{y=r,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&g.innerLoading.value!==!0&&(i.value!==!0&&a.value!==!0||N.value!==!0)&&(E!==!0&&Qe(),(i.value===!0||a.value===!0)&&Ge(""))},{immediate:!0}),ce(()=>e.fillInput,Qe),ce(a,At),ce(H,co);function vt(r){return e.emitValue===!0?ge.value(r):r}function He(r){if(r>-1&&r<p.value.length)if(e.multiple===!0){const C=e.modelValue.slice();o("remove",{index:r,value:C.splice(r,1)[0]}),o("update:modelValue",C)}else o("update:modelValue",null)}function Et(r){He(r),g.focus()}function Xe(r,C){const S=vt(r);if(e.multiple!==!0){e.fillInput===!0&&rt(ae.value(r),!0,!0),o("update:modelValue",S);return}if(p.value.length===0){o("add",{index:0,value:S}),o("update:modelValue",e.multiple===!0?[S]:S);return}if(C===!0&&f(r)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const F=e.modelValue.slice();o("add",{index:F.length,value:S}),F.push(S),o("update:modelValue",F)}function Ae(r,C){if(g.editable.value!==!0||r===void 0||qe.value(r)===!0)return;const S=ge.value(r);if(e.multiple!==!0){C!==!0&&(rt(e.fillInput===!0?ae.value(r):"",!0,!0),De()),R.value!==null&&R.value.focus(),(p.value.length===0||at(ge.value(p.value[0]),S)!==!0)&&o("update:modelValue",e.emitValue===!0?S:r);return}if((v!==!0||h.value===!0)&&g.focus(),$(),p.value.length===0){const X=e.emitValue===!0?S:r;o("add",{index:0,value:X}),o("update:modelValue",e.multiple===!0?[X]:X);return}const F=e.modelValue.slice(),Q=Ne.value.findIndex(X=>at(X,S));if(Q>-1)o("remove",{index:Q,value:F.splice(Q,1)[0]});else{if(e.maxValues!==void 0&&F.length>=e.maxValues)return;const X=e.emitValue===!0?S:r;o("add",{index:F.length,value:X}),F.push(X)}o("update:modelValue",F)}function Fe(r){if(n.platform.is.desktop!==!0)return;const C=r>-1&&r<H.value?r:-1;s.value!==C&&(s.value=C)}function je(r=1,C){if(a.value===!0){let S=s.value;do S=vn(S+r,-1,H.value-1);while(S!==-1&&S!==s.value&&qe.value(e.options[S])===!0);s.value!==S&&(Fe(S),z(S),C!==!0&&e.useInput===!0&&e.fillInput===!0&&mt(S>=0?ae.value(e.options[S]):I))}}function Rt(r,C){const S=F=>at(ge.value(F),r);return e.options.find(S)||C.find(S)||r}function ot(r,C){const S=r!==void 0?r:C;return typeof S=="function"?S:F=>F!==null&&typeof F=="object"&&S in F?F[S]:F}function f(r){const C=ge.value(r);return Ne.value.find(S=>at(S,C))!==void 0}function $(r){e.useInput===!0&&R.value!==null&&(r===void 0||R.value===r.target&&r.target.value===K.value)&&R.value.select()}function W(r){Bn(r,27)===!0&&a.value===!0&&(ke(r),De(),Qe()),o("keyup",r)}function Y(r){const{value:C}=r.target;if(r.keyCode!==void 0){W(r);return}if(r.target.value="",clearTimeout(x),Qe(),typeof C=="string"&&C.length>0){const S=C.toLocaleLowerCase(),F=X=>{const re=e.options.find(he=>X.value(he).toLocaleLowerCase()===S);return re===void 0?!1:(p.value.indexOf(re)===-1?Ae(re):De(),!0)},Q=X=>{F(ge)!==!0&&(F(ae)===!0||X===!0||Ge(C,!0,()=>Q(!0)))};Q()}else g.clearValue(r)}function se(r){o("keypress",r)}function Se(r){if(o("keydown",r),yo(r)===!0)return;const C=c.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),S=r.shiftKey!==!0&&e.multiple!==!0&&(s.value>-1||C===!0);if(r.keyCode===27){Ee(r);return}if(r.keyCode===9&&S===!1){Ke();return}if(r.target===void 0||r.target.id!==g.targetUid.value)return;if(r.keyCode===40&&g.innerLoading.value!==!0&&a.value===!1){ye(r),Ye();return}if(r.keyCode===8&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?He(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(r.keyCode===35||r.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(ye(r),s.value=-1,je(r.keyCode===36?1:-1,e.multiple)),(r.keyCode===33||r.keyCode===34)&&ee.value!==void 0&&(ye(r),s.value=Math.max(-1,Math.min(H.value,s.value+(r.keyCode===33?-1:1)*ee.value.view)),je(r.keyCode===33?1:-1,e.multiple)),(r.keyCode===38||r.keyCode===40)&&(ye(r),je(r.keyCode===38?-1:1,e.multiple));const F=H.value;if((V===void 0||B<Date.now())&&(V=""),F>0&&e.useInput!==!0&&r.key!==void 0&&r.key.length===1&&r.altKey===r.ctrlKey&&(r.keyCode!==32||V.length>0)){a.value!==!0&&Ye(r);const Q=r.key.toLocaleLowerCase(),X=V.length===1&&V[0]===Q;B=Date.now()+1500,X===!1&&(ye(r),V+=Q);const re=new RegExp("^"+V.split("").map(kt=>zl.indexOf(kt)>-1?"\\"+kt:kt).join(".*"),"i");let he=s.value;if(X===!0||he<0||re.test(ae.value(e.options[he]))!==!0)do he=vn(he+1,-1,F-1);while(he!==s.value&&(qe.value(e.options[he])===!0||re.test(ae.value(e.options[he]))!==!0));s.value!==he&&_e(()=>{Fe(he),z(he),he>=0&&e.useInput===!0&&e.fillInput===!0&&mt(ae.value(e.options[he]))});return}if(!(r.keyCode!==13&&(r.keyCode!==32||e.useInput===!0||V!=="")&&(r.keyCode!==9||S===!1))){if(r.keyCode!==9&&ye(r),s.value>-1&&s.value<F){Ae(e.options[s.value]);return}if(C===!0){const Q=(X,re)=>{if(re){if(Cn(re)!==!0)return}else re=e.newValueMode;if(X==null)return;rt("",e.multiple!==!0,!0),(re==="toggle"?Ae:Xe)(X,re==="add-unique"),e.multiple!==!0&&(R.value!==null&&R.value.focus(),De())};if(e.onNewValue!==void 0?o("new-value",c.value,Q):Q(c.value),e.multiple!==!0)return}a.value===!0?Ke():g.innerLoading.value!==!0&&Ye()}}function We(){return v===!0?J.value:O.value!==null&&O.value.__qPortalInnerRef.value!==null?O.value.__qPortalInnerRef.value:void 0}function lt(){return We()}function Jn(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Ve.value.map(r=>t["selected-item"](r)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Ve.value.map((r,C)=>m(Xo,{key:"option-"+C,removable:g.editable.value===!0&&qe.value(r.opt)!==!0,dense:!0,textColor:e.color,tabindex:ie.value,onRemove(){r.removeAtIndex(C)}},()=>m("span",{class:"ellipsis",[r.html===!0?"innerHTML":"textContent"]:ae.value(r.opt)}))):[m("span",{[T.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:K.value})]}function Qt(){if(A.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const r=t.option!==void 0?t.option:S=>m(Go,{key:S.index,...S.itemProps},()=>m(jo,()=>m(Wo,()=>m("span",{[S.html===!0?"innerHTML":"textContent"]:S.label}))));let C=de("div",Re.value.map(r));return t["before-options"]!==void 0&&(C=t["before-options"]().concat(C)),Mn(t["after-options"],C)}function eo(r,C){const S=C===!0?{...be.value,...g.splitAttrs.attributes.value}:void 0,F={ref:C===!0?R:void 0,key:"i_t",class:te.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...S,id:C===!0?g.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":r!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,..._t.value};return r!==!0&&v===!0&&(Array.isArray(F.class)===!0?F.class=[...F.class,"no-pointer-events"]:F.class+=" no-pointer-events"),m("input",F)}function Zt(r){clearTimeout(x),!(r&&r.target&&r.target.qComposing===!0)&&(mt(r.target.value||""),E=!0,I=c.value,g.focused.value!==!0&&(v!==!0||h.value===!0)&&g.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{Ge(c.value)},e.inputDebounce)))}function mt(r){c.value!==r&&(c.value=r,o("input-value",r))}function rt(r,C,S){E=S!==!0,e.useInput===!0&&(mt(r),(C===!0||S!==!0)&&(I=r),C!==!0&&Ge(r))}function Ge(r,C,S){if(e.onFilter===void 0||C!==!0&&g.focused.value!==!0)return;g.innerLoading.value===!0?o("filter-abort"):(g.innerLoading.value=!0,d.value=!0),r!==""&&e.multiple!==!0&&p.value.length>0&&E!==!0&&r===ae.value(p.value[0])&&(r="");const F=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);clearTimeout(U),U=F,o("filter",r,(Q,X)=>{(C===!0||g.focused.value===!0)&&U===F&&(clearTimeout(U),typeof Q=="function"&&Q(),d.value=!1,_e(()=>{g.innerLoading.value=!1,g.editable.value===!0&&(C===!0?a.value===!0&&De():a.value===!0?At(!0):a.value=!0),typeof X=="function"&&_e(()=>{X(l)}),typeof S=="function"&&_e(()=>{S(l)})}))},()=>{g.focused.value===!0&&U===F&&(clearTimeout(U),g.innerLoading.value=!1,d.value=!1),a.value===!0&&(a.value=!1)})}function to(){return m(bl,{ref:O,class:L.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&A.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:k.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Pe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ue.value,onScrollPassive:w,onBeforeShow:en,onBeforeHide:no,onShow:oo},Qt)}function no(r){tn(r),Ke()}function oo(){ve()}function lo(r){ke(r),R.value!==null&&R.value.focus(),h.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ro(r){ke(r),_e(()=>{h.value=!1})}function ao(){const r=[m(vl,{class:`col-auto ${g.fieldClass.value}`,..._.value,for:g.targetUid.value,dark:k.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:c.value.length>0,...g.splitAttrs.listeners.value,onFocus:lo,onBlur:ro},{...t,rawControl:()=>g.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&r.push(m("div",{ref:J,class:L.value+" scroll",style:e.popupContentStyle,...ue.value,onClick:Ee,onScrollPassive:w},Qt())),m(_l,{ref:D,modelValue:i.value,position:e.useInput===!0?"top":void 0,transitionShow:P,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:en,onBeforeHide:io,onHide:uo,onShow:so},()=>m("div",{class:"q-select__dialog"+(k.value===!0?" q-select__dialog--dark q-dark":"")+(h.value===!0?" q-select__dialog--focused":"")},r))}function io(r){tn(r),D.value!==null&&D.value.__updateRefocusTarget(g.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),g.focused.value=!1}function uo(r){De(),g.focused.value===!1&&o("blur",r),Qe()}function so(){const r=document.activeElement;(r===null||r.id!==g.targetUid.value)&&R.value!==null&&R.value!==r&&R.value.focus(),ve()}function Ke(){i.value!==!0&&(s.value=-1,a.value===!0&&(a.value=!1),g.focused.value===!1&&(clearTimeout(U),U=void 0,g.innerLoading.value===!0&&(o("filter-abort"),g.innerLoading.value=!1,d.value=!1)))}function Ye(r){g.editable.value===!0&&(v===!0?(g.onControlFocusin(r),i.value=!0,_e(()=>{g.focus()})):g.focus(),e.onFilter!==void 0?Ge(c.value):(A.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function De(){i.value=!1,Ke()}function Qe(){e.useInput===!0&&rt(e.multiple!==!0&&e.fillInput===!0&&p.value.length>0&&ae.value(p.value[0])||"",!0,!0)}function At(r){let C=-1;if(r===!0){if(p.value.length>0){const S=ge.value(p.value[0]);C=e.options.findIndex(F=>at(ge.value(F),S))}G(C)}Fe(C)}function co(r,C){a.value===!0&&g.innerLoading.value===!1&&(G(-1,!0),_e(()=>{a.value===!0&&g.innerLoading.value===!1&&(r>C?G():At(!0))}))}function Jt(){i.value===!1&&O.value!==null&&O.value.updatePosition()}function en(r){r!==void 0&&ke(r),o("popup-show",r),g.hasPopupOpen=!0,g.onControlFocusin(r)}function tn(r){r!==void 0&&ke(r),o("popup-hide",r),g.hasPopupOpen=!1,g.onControlFocusout(r)}function nn(){v=n.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||A.value===!1:!0),P=n.platform.is.ios===!0&&v===!0&&e.useInput===!0?"fade":e.transitionShow}return Rn(nn),So(Jt),nn(),Be(()=>{clearTimeout(x)}),Object.assign(l,{showPopup:Ye,hidePopup:De,removeAtIndex:He,add:Xe,toggleOption:Ae,getOptionIndex:()=>s.value,setOptionIndex:Fe,moveOptionSelection:je,filter:Ge,updateMenuPosition:Jt,updateInputValue:rt,isOptionSelected:f,getEmittingOptionValue:vt,isOptionDisabled:(...r)=>qe.value.apply(null,r)===!0,getOptionValue:(...r)=>ge.value.apply(null,r),getOptionLabel:(...r)=>ae.value.apply(null,r)}),Object.assign(g,{innerValue:p,fieldClass:u(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:q,targetRef:R,hasValue:N,showPopup:Ye,floatingLabel:u(()=>e.hideSelected!==!0&&N.value===!0||typeof c.value=="number"||c.value.length>0||Ht(e.displayValue)),getControlChild:()=>{if(g.editable.value!==!1&&(i.value===!0||A.value!==!0||t["no-option"]!==void 0))return v===!0?ao():to();g.hasPopupOpen===!0&&(g.hasPopupOpen=!1)},controlEvents:{onFocusin(r){g.onControlFocusin(r)},onFocusout(r){g.onControlFocusout(r,()=>{Qe(),Ke()})},onClick(r){if(Ee(r),v!==!0&&a.value===!0){Ke(),R.value!==null&&R.value.focus();return}Ye(r)}},getControl:r=>{const C=Jn(),S=r===!0||i.value!==!0||v!==!0;if(e.useInput===!0)C.push(eo(r,S));else if(g.editable.value===!0){const Q=S===!0?be.value:void 0;C.push(m("input",{ref:S===!0?R:void 0,key:"d_t",class:"q-select__focus-target",id:S===!0?g.targetUid.value:void 0,readonly:!0,"data-autofocus":r!==!0&&e.autofocus===!0||void 0,...Q,onKeydown:Se,onKeyup:W,onKeypress:se})),S===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&C.push(m("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Y}))}if(le.value!==void 0&&e.disable!==!0&&Ne.value.length>0){const Q=Ne.value.map(X=>m("option",{value:X,selected:!0}));C.push(m("select",{class:"hidden",name:le.value,multiple:e.multiple},Q))}const F=e.useInput===!0||S!==!0?void 0:g.splitAttrs.attributes.value;return m("div",{class:"q-field__native row items-center",...F},C)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[m(Ot,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Te.value})]:null}),Xn(g)}});const Ol=["top","middle","bottom"];Ue({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Ol.includes(e)}},setup(e,{slots:t}){const o=u(()=>e.align!==void 0?{verticalAlign:e.align}:null),l=u(()=>{const n=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(n!==void 0?` text-${n}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>m("div",{class:l.value,style:o.value,role:"alert","aria-label":e.label},Mn(t.default,e.label!==void 0?[e.label]:[]))}});function zt(e,t,o){const l=ft(e);let n,a=l.left-t.event.x,i=l.top-t.event.y,s=Math.abs(a),c=Math.abs(i);const h=t.direction;h.horizontal===!0&&h.vertical!==!0?n=a<0?"left":"right":h.horizontal!==!0&&h.vertical===!0?n=i<0?"up":"down":h.up===!0&&i<0?(n="up",s>c&&(h.left===!0&&a<0?n="left":h.right===!0&&a>0&&(n="right"))):h.down===!0&&i>0?(n="down",s>c&&(h.left===!0&&a<0?n="left":h.right===!0&&a>0&&(n="right"))):h.left===!0&&a<0?(n="left",s<c&&(h.up===!0&&i<0?n="up":h.down===!0&&i>0&&(n="down"))):h.right===!0&&a>0&&(n="right",s<c&&(h.up===!0&&i<0?n="up":h.down===!0&&i>0&&(n="down")));let d=!1;if(n===void 0&&o===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};n=t.event.lastDir,d=!0,n==="left"||n==="right"?(l.left-=a,s=0,a=0):(l.top-=i,c=0,i=0)}return{synthetic:d,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:l,direction:n,isFirst:t.event.isFirst,isFinal:o===!0,duration:Date.now()-t.event.time,distance:{x:s,y:c},offset:{x:a,y:i},delta:{x:l.left-t.event.lastX,y:l.top-t.event.lastY}}}}let Ul=0;var Nl=Vo({name:"touch-pan",beforeMount(e,{value:t,modifiers:o}){if(o.mouse!==!0&&pe.has.touch!==!0)return;function l(a,i){o.mouse===!0&&i===!0?ye(a):(o.stop===!0&&ke(a),o.prevent===!0&&Ee(a))}const n={uid:"qvtp_"+Ul++,handler:t,modifiers:o,direction:un(o),noop:qn,mouseStart(a){sn(a,n)&&xo(a)&&(ht(n,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),n.start(a,!0))},touchStart(a){if(sn(a,n)){const i=a.target;ht(n,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),n.start(a)}},start(a,i){if(pe.is.firefox===!0&&Bt(e,!0),n.lastEvt=a,i===!0||o.stop===!0){if(n.direction.all!==!0&&(i!==!0||n.modifiers.mouseAllDir!==!0)){const h=a.type.indexOf("mouse")>-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Ee(h),a.cancelBubble===!0&&ke(h),Object.assign(h,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[n.uid]:a.qClonedBy.concat(n.uid)}),n.initialEvent={target:a.target,event:h}}ke(a)}const{left:s,top:c}=ft(a);n.event={x:s,y:c,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:c}},move(a){if(n.event===void 0)return;const i=ft(a),s=i.left-n.event.x,c=i.top-n.event.y;if(s===0&&c===0)return;n.lastEvt=a;const h=n.event.mouse===!0,d=()=>{l(a,h),o.preserveCursor!==!0&&(document.documentElement.style.cursor="grabbing"),h===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Jo(),n.styleCleanup=v=>{if(n.styleCleanup=void 0,o.preserveCursor!==!0&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),h===!0){const E=()=>{document.body.classList.remove("no-pointer-events--children")};v!==void 0?setTimeout(()=>{E(),v()},50):E()}else v!==void 0&&v()}};if(n.event.detected===!0){n.event.isFirst!==!0&&l(a,n.event.mouse);const{payload:v,synthetic:E}=zt(a,n,!1);v!==void 0&&(n.handler(v)===!1?n.end(a):(n.styleCleanup===void 0&&n.event.isFirst===!0&&d(),n.event.lastX=v.position.left,n.event.lastY=v.position.top,n.event.lastDir=E===!0?void 0:v.direction,n.event.isFirst=!1));return}if(n.direction.all===!0||h===!0&&n.modifiers.mouseAllDir===!0){d(),n.event.detected=!0,n.move(a);return}const x=Math.abs(s),y=Math.abs(c);x!==y&&(n.direction.horizontal===!0&&x>y||n.direction.vertical===!0&&x<y||n.direction.up===!0&&x<y&&c<0||n.direction.down===!0&&x<y&&c>0||n.direction.left===!0&&x>y&&s<0||n.direction.right===!0&&x>y&&s>0?(n.event.detected=!0,n.move(a)):n.end(a,!0))},end(a,i){if(n.event!==void 0){if(qt(n,"temp"),pe.is.firefox===!0&&Bt(e,!1),i===!0)n.styleCleanup!==void 0&&n.styleCleanup(),n.event.detected!==!0&&n.initialEvent!==void 0&&n.initialEvent.target.dispatchEvent(n.initialEvent.event);else if(n.event.detected===!0){n.event.isFirst===!0&&n.handler(zt(a===void 0?n.lastEvt:a,n).payload);const{payload:s}=zt(a===void 0?n.lastEvt:a,n,!0),c=()=>{n.handler(s)};n.styleCleanup!==void 0?n.styleCleanup(c):c()}n.event=void 0,n.initialEvent=void 0,n.lastEvt=void 0}}};e.__qtouchpan=n,o.mouse===!0&&ht(n,"main",[[e,"mousedown","mouseStart",`passive${o.mouseCapture===!0?"Capture":""}`]]),pe.has.touch===!0&&ht(n,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchpan;o!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&o.end(),o.handler=t.value),o.direction=un(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),qt(t,"main"),qt(t,"temp"),pe.is.firefox===!0&&Bt(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const wn="q-slider__marker-labels",Hl=e=>({value:e}),Xl=({marker:e})=>m("div",{key:e.value,style:e.style,class:e.classes},e.label),Zn=[34,37,40,33,39,38],jl={...jt,...Qn,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Wl=["pan","update:modelValue","change"];function Gl({updateValue:e,updatePosition:t,getDragging:o,formAttrs:l}){const{props:n,emit:a,slots:i,proxy:{$q:s}}=we(),c=Wt(n,s),h=Fl(l),d=M(!1),x=M(!1),y=M(!1),v=M(!1),E=u(()=>n.vertical===!0?"--v":"--h"),U=u(()=>"-"+(n.switchLabelSide===!0?"switched":"standard")),I=u(()=>n.vertical===!0?n.reverse===!0:n.reverse!==(s.lang.rtl===!0)),P=u(()=>isNaN(n.innerMin)===!0||n.innerMin<n.min?n.min:n.innerMin),V=u(()=>isNaN(n.innerMax)===!0||n.innerMax>n.max?n.max:n.innerMax),B=u(()=>n.disable!==!0&&n.readonly!==!0&&P.value<V.value),q=u(()=>(String(n.step).trim().split(".")[1]||"").length),R=u(()=>n.step===0?1:n.step),O=u(()=>B.value===!0?n.tabindex||0:-1),D=u(()=>n.max-n.min),J=u(()=>V.value-P.value),le=u(()=>ie(P.value)),Z=u(()=>ie(V.value)),H=u(()=>n.vertical===!0?I.value===!0?"bottom":"top":I.value===!0?"right":"left"),ne=u(()=>n.vertical===!0?"height":"width"),oe=u(()=>n.vertical===!0?"width":"height"),ee=u(()=>n.vertical===!0?"vertical":"horizontal"),G=u(()=>{const f={role:"slider","aria-valuemin":P.value,"aria-valuemax":V.value,"aria-orientation":ee.value,"data-step":n.step};return n.disable===!0?f["aria-disabled"]="true":n.readonly===!0&&(f["aria-readonly"]="true"),f}),de=u(()=>`q-slider q-slider${E.value} q-slider--${d.value===!0?"":"in"}active inline no-wrap `+(n.vertical===!0?"row":"column")+(n.disable===!0?" disabled":" q-slider--enabled"+(B.value===!0?" q-slider--editable":""))+(y.value==="both"?" q-slider--focus":"")+(n.label||n.labelAlways===!0?" q-slider--label":"")+(n.labelAlways===!0?" q-slider--label-always":"")+(c.value===!0?" q-slider--dark":"")+(n.dense===!0?" q-slider--dense q-slider--dense"+E.value:""));function w(f){const $="q-slider__"+f;return`${$} ${$}${E.value} ${$}${E.value}${U.value}`}function z(f){const $="q-slider__"+f;return`${$} ${$}${E.value}`}const ve=u(()=>{const f=n.selectionColor||n.color;return"q-slider__selection absolute"+(f!==void 0?` text-${f}`:"")}),g=u(()=>z("markers")+" absolute overflow-hidden"),p=u(()=>z("track-container")),_=u(()=>w("pin")),k=u(()=>w("label")),N=u(()=>w("text-container")),te=u(()=>w("marker-labels-container")+(n.markerLabelsClass!==void 0?` ${n.markerLabelsClass}`:"")),L=u(()=>"q-slider__track relative-position no-outline"+(n.trackColor!==void 0?` bg-${n.trackColor}`:"")),A=u(()=>{const f={[oe.value]:n.trackSize};return n.trackImg!==void 0&&(f.backgroundImage=`url(${n.trackImg}) !important`),f}),K=u(()=>"q-slider__inner absolute"+(n.innerTrackColor!==void 0?` bg-${n.innerTrackColor}`:"")),b=u(()=>{const f={[H.value]:`${100*le.value}%`,[ne.value]:`${100*(Z.value-le.value)}%`};return n.innerTrackImg!==void 0&&(f.backgroundImage=`url(${n.innerTrackImg}) !important`),f});function T(f){const{min:$,max:W,step:Y}=n;let se=$+f*(W-$);if(Y>0){const Se=(se-$)%Y;se+=(Math.abs(Se)>=Y/2?(Se<0?-1:1)*Y:0)-Se}return q.value>0&&(se=parseFloat(se.toFixed(q.value))),ze(se,P.value,V.value)}function ie(f){return D.value===0?0:(f-n.min)/D.value}function be(f,$){const W=ft(f),Y=n.vertical===!0?ze((W.top-$.top)/$.height,0,1):ze((W.left-$.left)/$.width,0,1);return ze(I.value===!0?1-Y:Y,le.value,Z.value)}const ue=u(()=>Co(n.markers)===!0?n.markers:R.value),Ve=u(()=>{const f=[],$=ue.value,W=n.max;let Y=n.min;do f.push(Y),Y+=$;while(Y<W);return f.push(W),f}),Re=u(()=>{const f=` ${wn}${E.value}-`;return wn+`${f}${n.switchMarkerLabelsSide===!0?"switched":"standard"}${f}${I.value===!0?"rtl":"ltr"}`}),Te=u(()=>n.markerLabels===!1?null:ge(n.markerLabels).map((f,$)=>({index:$,value:f.value,label:f.label||f.value,classes:Re.value+(f.classes!==void 0?" "+f.classes:""),style:{...ae(f.value),...f.style||{}}}))),Pe=u(()=>({markerList:Te.value,markerMap:qe.value,classes:Re.value,getStyle:ae})),Le=u(()=>{if(J.value!==0){const f=100*ue.value/J.value;return{...b.value,backgroundSize:n.vertical===!0?`2px ${f}%`:`${f}% 2px`}}return null});function ge(f){if(f===!1)return null;if(f===!0)return Ve.value.map(Hl);if(typeof f=="function")return Ve.value.map(W=>{const Y=f(W);return Ft(Y)===!0?{...Y,value:W}:{value:W,label:Y}});const $=({value:W})=>W>=n.min&&W<=n.max;return Array.isArray(f)===!0?f.map(W=>Ft(W)===!0?W:{value:W}).filter($):Object.keys(f).map(W=>{const Y=f[W],se=Number(W);return Ft(Y)===!0?{...Y,value:se}:{value:se,label:Y}}).filter($)}function ae(f){return{[H.value]:`${100*(f-n.min)/D.value}%`}}const qe=u(()=>{if(n.markerLabels===!1)return null;const f={};return Te.value.forEach($=>{f[$.value]=$}),f});function Ne(){if(i["marker-label-group"]!==void 0)return i["marker-label-group"](Pe.value);const f=i["marker-label"]||Xl;return Te.value.map($=>f({marker:$,...Pe.value}))}const _t=u(()=>[[Nl,vt,void 0,{[ee.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function vt(f){f.isFinal===!0?(v.value!==void 0&&(t(f.evt),f.touch===!0&&e(!0),v.value=void 0,a("pan","end")),d.value=!1,y.value=!1):f.isFirst===!0?(v.value=o(f.evt),t(f.evt),e(),d.value=!0,a("pan","start")):(t(f.evt),e())}function He(){y.value=!1}function Et(f){t(f,o(f)),e(),x.value=!0,d.value=!0,document.addEventListener("mouseup",Xe,!0)}function Xe(){x.value=!1,d.value=!1,e(!0),He(),document.removeEventListener("mouseup",Xe,!0)}function Ae(f){t(f,o(f)),e(!0)}function Fe(f){Zn.includes(f.keyCode)&&e(!0)}function je(f){if(n.vertical===!0)return null;const $=s.lang.rtl!==n.reverse?1-f:f;return{transform:`translateX(calc(${2*$-1} * ${n.thumbSize} / 2 + ${50-100*$}%))`}}function Rt(f){const $=u(()=>x.value===!1&&(y.value===f.focusValue||y.value==="both")?" q-slider--focus":""),W=u(()=>`q-slider__thumb q-slider__thumb${E.value} q-slider__thumb${E.value}-${I.value===!0?"rtl":"ltr"} absolute non-selectable`+$.value+(f.thumbColor.value!==void 0?` text-${f.thumbColor.value}`:"")),Y=u(()=>({width:n.thumbSize,height:n.thumbSize,[H.value]:`${100*f.ratio.value}%`,zIndex:y.value===f.focusValue?2:void 0})),se=u(()=>f.labelColor.value!==void 0?` text-${f.labelColor.value}`:""),Se=u(()=>je(f.ratio.value)),We=u(()=>"q-slider__text"+(f.labelTextColor.value!==void 0?` text-${f.labelTextColor.value}`:""));return()=>{const lt=[m("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[m("path",{d:n.thumbPath})]),m("div",{class:"q-slider__focus-ring fit"})];return(n.label===!0||n.labelAlways===!0)&&(lt.push(m("div",{class:_.value+" absolute fit no-pointer-events"+se.value},[m("div",{class:k.value,style:{minWidth:n.thumbSize}},[m("div",{class:N.value,style:Se.value},[m("span",{class:We.value},f.label.value)])])])),n.name!==void 0&&n.disable!==!0&&h(lt,"push")),m("div",{class:W.value,style:Y.value,...f.getNodeData()},lt)}}function ot(f,$,W,Y){const se=[];n.innerTrackColor!=="transparent"&&se.push(m("div",{key:"inner",class:K.value,style:b.value})),n.selectionColor!=="transparent"&&se.push(m("div",{key:"selection",class:ve.value,style:f.value})),n.markers!==!1&&se.push(m("div",{key:"marker",class:g.value,style:Le.value})),Y(se);const Se=[Po("div",{key:"trackC",class:p.value,tabindex:$.value,...W.value},[m("div",{class:L.value,style:A.value},se)],"slide",B.value,()=>_t.value)];if(n.markerLabels!==!1){const We=n.switchMarkerLabelsSide===!0?"unshift":"push";Se[We](m("div",{key:"markerL",class:te.value},Ne()))}return Se}return Be(()=>{document.removeEventListener("mouseup",Xe,!0)}),{state:{active:d,focus:y,preventFocus:x,dragging:v,editable:B,classes:de,tabindex:O,attributes:G,step:R,decimals:q,trackLen:D,innerMin:P,innerMinRatio:le,innerMax:V,innerMaxRatio:Z,positionProp:H,sizeProp:ne,isReversed:I},methods:{onActivate:Et,onMobileClick:Ae,onBlur:He,onKeyup:Fe,getContent:ot,getThumbRenderFn:Rt,convertRatioToModel:T,convertModelToRatio:ie,getDraggingRatio:be}}}const Kl=()=>({});Ue({name:"QSlider",props:{...jl,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Wl,setup(e,{emit:t}){const{proxy:{$q:o}}=we(),{state:l,methods:n}=Gl({updateValue:E,updatePosition:I,getDragging:U,formAttrs:ql(e)}),a=M(null),i=M(0),s=M(0);function c(){s.value=e.modelValue===null?l.innerMin.value:ze(e.modelValue,l.innerMin.value,l.innerMax.value)}ce(()=>`${e.modelValue}|${l.innerMin.value}|${l.innerMax.value}`,c),c();const h=u(()=>n.convertModelToRatio(s.value)),d=u(()=>l.active.value===!0?i.value:h.value),x=u(()=>{const B={[l.positionProp.value]:`${100*l.innerMinRatio.value}%`,[l.sizeProp.value]:`${100*(d.value-l.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(B.backgroundImage=`url(${e.selectionImg}) !important`),B}),y=n.getThumbRenderFn({focusValue:!0,getNodeData:Kl,ratio:d,label:u(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:u(()=>e.thumbColor||e.color),labelColor:u(()=>e.labelColor),labelTextColor:u(()=>e.labelTextColor)}),v=u(()=>l.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:n.onMobileClick}:{onMousedown:n.onActivate,onFocus:P,onBlur:n.onBlur,onKeydown:V,onKeyup:n.onKeyup});function E(B){s.value!==e.modelValue&&t("update:modelValue",s.value),B===!0&&t("change",s.value)}function U(){return a.value.getBoundingClientRect()}function I(B,q=l.dragging.value){const R=n.getDraggingRatio(B,q);s.value=n.convertRatioToModel(R),i.value=e.snap!==!0||e.step===0?R:n.convertModelToRatio(s.value)}function P(){l.focus.value=!0}function V(B){if(!Zn.includes(B.keyCode))return;ye(B);const q=([34,33].includes(B.keyCode)?10:1)*l.step.value,R=([34,37,40].includes(B.keyCode)?-1:1)*(l.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*q;s.value=ze(parseFloat((s.value+R).toFixed(l.decimals.value)),l.innerMin.value,l.innerMax.value),E()}return()=>{const B=n.getContent(x,l.tabindex,v,q=>{q.push(y())});return m("div",{ref:a,class:l.classes.value+(e.modelValue===null?" q-slider--no-value":""),...l.attributes.value,"aria-valuenow":e.modelValue},B)}}});var Yl=`#version 300 es
precision mediump float;
precision mediump int;
precision mediump sampler2D;
precision mediump usampler2D;

uniform usampler2D agentTex; // agent positions
uniform sampler2D renderTex;

uniform float width;
uniform float height;
uniform float maxSpeed;
uniform float turnSpeed;

uniform float sensorWidth;
uniform float sensorHeight;
uniform float maxPossibleReading;

uniform float sensorOffsetDistance;
uniform float sensorAngle;
uniform float randomWeight;

in vec2 v_texCoord;

const float PI = 3.141;

out uvec4 result;

uint hash(uint x);
uint hash(uint x)
{
    x ^= 2747636419u;
    x *= 2654435769u;
    x ^= x >> 16;
    x *= 2654435769u;
    x ^= x >> 16;
    x *= 2654435769u;
    return x;
}

float sense(float x, float y, float r, float offset);
float sense(float x, float y, float r, float offset)
{
    float sensorAngle = r + offset;
    vec2 sensorDirection = vec2(cos(sensorAngle), sin(sensorAngle));
    vec2 sensorCentre = vec2(x, y) + sensorDirection * sensorOffsetDistance;

    float sum = 0.0;
    for (float i = -sensorWidth; i <= sensorWidth; i += 1.0/width)
    {
        for (float j = -sensorHeight; j <= sensorHeight; j += 1.0/height)
        {
            vec4 reading = texture(renderTex, sensorCentre + vec2(i, j));
            sum += reading.r + reading.g + reading.b;
        }
    }
    return sum / maxPossibleReading;
}

void main(void)
{
    uint pixelIndex = uint((gl_FragCoord.y * width) + (gl_FragCoord.x));
    uint pseudoRandomNumber = hash(pixelIndex);
    float pseudoRandomWeight = float(pseudoRandomNumber) / 4294967295.0; // normalise
    pseudoRandomWeight *= randomWeight;

    uvec4 agent = texture(agentTex, v_texCoord);
    float x = uintBitsToFloat(agent.x);
    float y = uintBitsToFloat(agent.y);
    float r = uintBitsToFloat(agent.z);
    float v = uintBitsToFloat(agent.w);

    float aspectRatioInv = height/width;

    // move agent along current path
    x += cos(r) * v * maxSpeed * aspectRatioInv;
    y += sin(r) * v * maxSpeed;

    // check boundaries and reflect angle if hit
    if ( x < 0.0 || x > 1.0 || y < 0.0 || y > 1.0 )
    {
        // pass to other side
        if (x < 0.0) x = 0.99; if (x > 1.0) x = 0.01;
        if (y < 0.0) y = 0.99; if (y > 1.0) y = 0.01;

        // turn them a little
        r += pseudoRandomWeight * PI;
    }


    float forwardReading = sense(x, y, r, 0.0);
    float leftReading = sense(x, y, r, sensorAngle);
    float rightReading = sense(x, y, r, -1.0 * sensorAngle);

    if (forwardReading > leftReading && forwardReading > rightReading)
    {
        r += 0.0; // no change
    }
    else if (forwardReading < leftReading && forwardReading < rightReading)
    {
        r += (pseudoRandomWeight-0.5) * turnSpeed; // turn randomly
    }
    else if (rightReading > forwardReading && forwardReading > leftReading)
    {
        r -= turnSpeed +  ((pseudoRandomWeight-0.5) * turnSpeed); // turn left
    }
    else if (leftReading > forwardReading && forwardReading > rightReading)
    {
        r += turnSpeed + ((pseudoRandomWeight-0.5) * turnSpeed); // turn right
    }

    v = max(max(forwardReading, max(leftReading, rightReading)) * 8.0, 0.1);

    uint x_ = floatBitsToUint(x);
    uint y_ = floatBitsToUint(y);
    uint r_ = floatBitsToUint(r);
    uint v_ = floatBitsToUint(v);

    result = uvec4(x_, y_, r_, v_);
}
`,Ql=`#version 300 es

precision mediump float;

in vec4 m_position;

out vec2 v_texCoord;

void main(void)
{
  gl_Position = vec4(m_position.xy, 0.0, 1.0);
  v_texCoord = m_position.zw;
}
`,Zl=`#version 300 es
precision mediump float;
precision mediump sampler2D;

uniform float fadeSpeed;
uniform float width;
uniform float height;

in vec2 v_texCoord;
uniform sampler2D renderTex;

out vec4 color;

void main(void)
{
  vec4 sum = vec4(0.0, 0.0, 0.0, 0.0);

  // 3x3 blur
  for (float offsetX = -1.0/width; offsetX <= 1.0/width; offsetX += 1.0/width)
  {
    for (float offsetY = -1.0/height; offsetY <= 1.0/height; offsetY += 1.0/height)
    {
      sum += texture(renderTex, v_texCoord + vec2(offsetX, offsetY));
    }
  }
  vec4 blurredCol = sum / 9.0;

  color = blurredCol;

  // Fade each trailing agent pixel out over time
  color = color - fadeSpeed;
}
`,Jl=`#version 300 es

precision mediump float;

in vec4 m_position;

out vec2 v_texCoord;

void main(void)
{
  gl_Position = vec4(m_position.xy, 0.0, 1.0);
  v_texCoord = m_position.pq;
}
`,er=`#version 300 es

precision mediump float;
precision mediump int;
precision mediump sampler2D;

in vec4 col;

out vec4 color;

void main(void)
{
  color = col;
}
`,tr=`#version 300 es
precision mediump float;

in vec2 r_position;
in vec2 r_agentCoord;

precision mediump sampler2D;
precision mediump usampler2D;

uniform usampler2D agentTex;
uniform sampler2D agentCol;
uniform float pointSize;

out vec4 col;

void main(void)
{
  // get the r & g (x & y positions) value of pixels in agentTex
  uvec4 agent = texture(agentTex, r_agentCoord);
  float v = uintBitsToFloat(agent.w);

  col = texture(agentCol, r_agentCoord);
  col.r = col.r * v;
  col.g = col.g * (1.0 - v) - 0.1;
  col.b = 1.0;

  float x = uintBitsToFloat(agent.x);
  float y = uintBitsToFloat(agent.y);
  gl_Position = vec4(2.0 * x - 1.0, 2.0 * y - 1.0, 0.0, 1.0);

  gl_PointSize = pointSize;
}
`;const nr=2,or=60;var Yt;const me={agents:null,agentColors:null,canvas:null,preset:null};var j=null,Me=null,et=null,Tt=null,Ce=null;function lr(e,t){document.getElementById("fps"),me.canvas=e,me.preset=t;let o=me.preset.createAgents();me.agents=o.agents,me.agentColors=o.colors,me.sensorRadius=nr;var l={depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!0,premultipliedAlpha:!1},n=e.getContext("webgl2",l);n||(n=e.getContext("webgl",l)||e.getContext("experimental-webgl",l)),j=n,n.viewport(0,0,e.width,e.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);var a=n.getExtension("EXT_color_buffer_float");if(!a){alert("EXT_color_buffer_float failed to load");return}Yt=!0,Me=rr(n),ar(n,me,Me),ir(n,me,Me)}function rr(e){const t=$t(e,Ql,Yl),o=$t(e,tr,er),l=$t(e,Jl,Zl);return{moveAgent:t,renderAgent:o,postProcessing:l}}function $t(e,t,o){const l=e.createShader(e.VERTEX_SHADER);e.shaderSource(l,t),e.compileShader(l),e.getShaderParameter(l,e.COMPILE_STATUS)||console.error(e.getShaderInfoLog(l));const n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,o),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)||console.error(e.getShaderInfoLog(n));const a=e.createProgram();e.attachShader(a,l),e.attachShader(a,n),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||console.error(e.getProgramInfoLog(a));var i=e.getProgramParameter(a,e.ACTIVE_UNIFORMS),s={};for(let h=0;h<i;h++){var c=e.getActiveUniform(a,h).name;s[c]=e.getUniformLocation(a,c)}return e.deleteShader(l),e.deleteShader(n),{program:a,uniforms:s,use:function(){e.useProgram(this.program)}}}function ar(e,t,o){o.moveAgent.use();let l=o.moveAgent.uniforms;e.uniform1i(l.agentTex,0),e.uniform1i(l.renderTex,1),e.uniform1f(l.width,t.canvas.width),e.uniform1f(l.height,t.canvas.height),o.renderAgent.use();let n=o.renderAgent.uniforms;e.uniform1i(n.agentTex,0),e.uniform1i(n.agentCol,1),e.uniform1f(n.pointSize,t.preset.pointSize),o.postProcessing.use();let a=o.postProcessing.uniforms;e.uniform1i(a.renderTex,0),e.uniform1f(a.fadeSpeed,t.preset.fadeSpeed/255),e.uniform1f(a.width,t.canvas.width),e.uniform1f(a.height,t.canvas.width),e.useProgram(null)}function ir(e,t,o){let l=[],n=t.canvas.height/t.canvas.width;for(let v=0;v<t.agents.length;v++)l.push(t.agents[v].x*n+.5),l.push(t.agents[v].y+.5),l.push(t.agents[v].rot),l.push(.5);Ce=ur(e,new Float32Array(l),new Uint8Array(t.agentColors)),e.useProgram(o.moveAgentProg),e.useProgram(null);var a=e.getAttribLocation(o.moveAgent.program,"m_position"),i=e.getAttribLocation(o.renderAgent.program,"r_agentCoord"),s=e.getAttribLocation(o.postProcessing.program,"m_position");et={positionBuffer:e.createBuffer(),lookupBuffer:e.createBuffer(),inputBuffer:e.createBuffer()},e.bindBuffer(e.ARRAY_BUFFER,et.positionBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,0,0,1,-1,1,0,-1,1,0,1,-1,1,0,1,1,-1,1,0,1,1,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(a),e.vertexAttribPointer(a,4,e.FLOAT,!1,0,0),e.vertexAttribPointer(s,4,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,et.lookupBuffer);let c=[];for(let v=0;v<Ce.agentTextureLength;v++)for(let E=0;E<Ce.agentTextureLength;E++)c.push((E+.5)/Ce.agentTextureLength),c.push((v+.5)/Ce.agentTextureLength);e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.enableVertexAttribArray(i),e.bindBuffer(e.ARRAY_BUFFER,et.lookupBuffer),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),Tt={agentFramebuffer:e.createFramebuffer(),postProcessingFrameBuffer:e.createFramebuffer()};var h=!0,d=window.performance.now(),x=1e3/or;function y(v){if(!Yt)return;let E=v-d;E>x&&(d=v-E%x,sr(e,t,Me),cr(h,e,Me,Tt,Ce),h=!h),window.requestAnimationFrame(y)}window.requestAnimationFrame(y)}function st(e,t,o,l,n,a,i){const s=e.createTexture();return e.bindTexture(e.TEXTURE_2D,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_BASE_LEVEL,0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAX_LEVEL,0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,t,o,l,0,n,a,i),e.bindTexture(e.TEXTURE_2D,null),s}function ur(e,t,o){const l=Math.ceil(Math.sqrt(me.agents.length));let n=new Uint32Array(t.buffer);const a=st(e,e.RGBA32UI,l,l,e.RGBA_INTEGER,e.UNSIGNED_INT,n),i=st(e,e.RGBA32UI,l,l,e.RGBA_INTEGER,e.UNSIGNED_INT,null),s=st(e,e.RGBA,l,l,e.RGBA,e.UNSIGNED_BYTE,o),c=st(e,e.RGBA,me.canvas.width,me.canvas.height,e.RGBA,e.UNSIGNED_BYTE,null),h=st(e,e.RGBA,me.canvas.width,me.canvas.height,e.RGBA,e.UNSIGNED_BYTE,null);return{agentTexture:a,agentTextureSwap:i,agentColor:s,agentTextureLength:l,renderTexture:c,renderTextureSwap:h}}function sr(e,t,o){o.moveAgent.use();let l=o.moveAgent.uniforms;e.uniform1f(l.maxSpeed,t.preset.maxSpeed.value/t.canvas.width),e.uniform1f(l.turnSpeed,t.preset.turnSpeed.value),e.uniform1f(l.sensorWidth,t.sensorRadius/t.canvas.width),e.uniform1f(l.sensorHeight,t.sensorRadius/t.canvas.height);var n=2*t.sensorRadius+1,a=n*n*3;e.uniform1f(l.maxPossibleReading,a),e.uniform1f(l.sensorOffsetDistance,t.preset.sensorOffsetDistance.value/t.canvas.width),e.uniform1f(l.sensorAngle,t.preset.sensorAngle.value),e.uniform1f(l.randomWeight,.1)}function cr(e,t,o,l,n){t.viewport(0,0,n.agentTextureLength,n.agentTextureLength),o.moveAgent.use(),t.bindFramebuffer(t.FRAMEBUFFER,l.agentFramebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e?n.agentTextureSwap:n.agentTexture,0),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,e?n.agentTexture:n.agentTextureSwap),t.activeTexture(t.TEXTURE0+1),t.bindTexture(t.TEXTURE_2D,n.renderTexture),t.drawArrays(t.TRIANGLES,0,6),t.viewport(0,0,me.canvas.width,me.canvas.height),o.renderAgent.use(),t.bindFramebuffer(t.FRAMEBUFFER,l.postProcessingFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e?n.renderTextureSwap:n.renderTexture,0),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,n.agentTexture),t.activeTexture(t.TEXTURE0+1),t.bindTexture(t.TEXTURE_2D,n.agentColor),t.drawArrays(t.POINTS,0,me.agents.length),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e?n.renderTexture:n.renderTextureSwap,0),o.postProcessing.use(),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,e?n.renderTextureSwap:n.renderTexture),t.drawArrays(t.TRIANGLES,0,6),t.bindFramebuffer(t.FRAMEBUFFER,null),t.drawArrays(t.TRIANGLES,0,6)}function dr(){Yt=!1;for(var e=j.getParameter(j.MAX_TEXTURE_IMAGE_UNITS),t=0;t<e;++t)j.activeTexture(j.TEXTURE0+t),j.bindTexture(j.TEXTURE_2D,null),j.bindTexture(j.TEXTURE_CUBE_MAP,null);j.bindBuffer(j.ARRAY_BUFFER,null),j.bindBuffer(j.ELEMENT_ARRAY_BUFFER,null),j.bindRenderbuffer(j.RENDERBUFFER,null),j.bindFramebuffer(j.FRAMEBUFFER,null),j.deleteProgram(Me.moveAgentProg),j.deleteProgram(Me.renderAgentProg),j.deleteProgram(Me.postProcessingProg),j.deleteFramebuffer(Tt.agentFramebuffer),j.deleteFramebuffer(Tt.postProcessingFrameBuffer),j.deleteBuffer(et.lookupBuffer),j.deleteBuffer(et.positionBuffer),j.deleteTexture(Ce.agentTex),j.deleteTexture(Ce.agentTex_),j.deleteTexture(Ce.agentColor),j.deleteTexture(Ce.renderTex),j.deleteTexture(Ce.renderTex_),gl.getExtension("WEBGL_lose_context").loseContext()}const fr=.5*(Math.sqrt(3)-1),ct=(3-Math.sqrt(3))/6,Tn=e=>Math.floor(e)|0,_n=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function vr(e=Math.random){const t=mr(e),o=new Float64Array(t).map(n=>_n[n%12*2]),l=new Float64Array(t).map(n=>_n[n%12*2+1]);return function(a,i){let s=0,c=0,h=0;const d=(a+i)*fr,x=Tn(a+d),y=Tn(i+d),v=(x+y)*ct,E=x-v,U=y-v,I=a-E,P=i-U;let V,B;I>P?(V=1,B=0):(V=0,B=1);const q=I-V+ct,R=P-B+ct,O=I-1+2*ct,D=P-1+2*ct,J=x&255,le=y&255;let Z=.5-I*I-P*P;if(Z>=0){const oe=J+t[le],ee=o[oe],G=l[oe];Z*=Z,s=Z*Z*(ee*I+G*P)}let H=.5-q*q-R*R;if(H>=0){const oe=J+V+t[le+B],ee=o[oe],G=l[oe];H*=H,c=H*H*(ee*q+G*R)}let ne=.5-O*O-D*D;if(ne>=0){const oe=J+1+t[le+1],ee=o[oe],G=l[oe];ne*=ne,h=ne*ne*(ee*O+G*D)}return 70*(s+c+h)}}function mr(e){const o=new Uint8Array(512);for(let l=0;l<512/2;l++)o[l]=l;for(let l=0;l<512/2-1;l++){const n=l+~~(e()*(256-l)),a=o[l];o[l]=o[n],o[n]=a}for(let l=256;l<512;l++)o[l]=o[l-256];return o}const hr=To({name:"SlimeSim",components:{},watch:{presetSelection(e){try{dr()}catch{}var t=this.$refs.visCanvas;t.width=Math.round(window.innerWidth),t.height=Math.round(window.innerHeight)-50;let o={...e,...this.params};lr(t,o)}},mounted(){this.presetSelection=this.presets[0]},data(){return{presetSelection:null,presets:[{label:"Circle Moving Towards Centre",createAgents:function(){let t=[],o=[],l=.4;for(let n=0;n<65536;n++){let a=2*Math.PI*Math.random(),i=l*Math.sqrt(Math.random()),s=i*Math.cos(a),c=i*Math.sin(a),h=Math.atan2(-c,-s);t.push({x:s,y:c,rot:h.toFixed(2)}),o.push(255),o.push(255),o.push(255),o.push(255)}return{agents:t,colors:o}},pointSize:2,fadeSpeed:10},{label:"Perlin Noise",createAgents:function(){let t=[],o=[];var l=-.95;const n=vr();for(let c=0;c<65536;c++){var a=2*(Math.random()-.5),i=2*(Math.random()-.5),s=n(a,i);s>l&&(t.push({x:a,y:i,rot:(Math.random()*(0-2*Math.PI)+2*Math.PI).toFixed(2)}),o.push(255),o.push(255),o.push(255),o.push(255))}return{agents:t,colors:o}},pointSize:1,fadeSpeed:10}],params:{turnSpeed:{value:.2,min:.1,max:1,label:"Turn Speed"},maxSpeed:{value:4,min:2,max:10,label:"Max Speed"},sensorOffsetDistance:{value:40,min:10,max:100,label:"Sensor Range"},sensorAngle:{value:.25,min:.1,max:.6,label:"Sensor Angle"}}}}}),gr={class:"bg-black",id:"vis",ref:"visCanvas",style:{width:"2020px",height:"1080px"}};function pr(e,t,o,l,n,a){return _o(),Eo(ko,null,[Ro("canvas",gr,null,512),Ao("",!0)],64)}var Rr=wo(hr,[["render",pr]]);export{Rr as default};
